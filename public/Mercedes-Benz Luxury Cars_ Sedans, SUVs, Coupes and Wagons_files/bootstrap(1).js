function attachPixelImage(e,t){"use strict";e.setAttribute("height",1),e.setAttribute("width",1),e.setAttribute("border",0),e.setAttribute("src",t),window.document.body.appendChild(e)}function addRETPixel(e){"use strict";if(e){var t=window.document.getElementById(e);t&&window.document.body.removeChild(t);var i="http://pix04.revsci.net/J06575/b3/0/3/noscript.gif?D=DM_EVT%3D"+e;t=window.document.createElement("img"),t.setAttribute("id",e),attachPixelImage(t,i)}}function addPixel(e,t){"use strict";if(e){var i=window.document.getElementById(e);i&&window.document.body.removeChild(i);var n="http://bp.specificclick.net?pixid="+e+"&u="+window.escape(window.parent.document.location)+"&r="+window.escape(window.parent.document.referrer);i=window.document.createElement("script"),i.setAttribute("id",e),i.setAttribute("type","text/javascript"),window.document.body.appendChild(i),i.src=n,addRETPixel(t)}}function GetFloodlightTag(e){"use strict";if(e){var t=window.document.getElementById(e),i="https:"==document.location.protocol?"https://":"http://",n=i+"3990485.fls.doubleclick.net/activityi;",r=e.split(";");for(var o in r)if(r.hasOwnProperty(o)&&0===r[o].indexOf("src")){n=i+r[o].split("=")[1]+".fls.doubleclick.net/activityi;";break}t&&window.document.body.removeChild(t),t=window.document.createElement("iframe"),t.setAttribute("id",e),e=addWebUUID(e),e=e+"ord="+Math.random()+"?",t.setAttribute("async","async"),t.setAttribute("defer","defer"),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("display","none"),window.document.body.appendChild(t),t.src=n+e}}function addWebUUID(e){var t=e.split(";"),i="",n="";if(e.indexOf(";u5=")>=0)return e;for(var r in t)t[r].indexOf("type")>=0&&(i=t[r].substring(t[r].indexOf("=")+1).trim()),t[r].indexOf("cat")>=0&&(n=t[r].substring(t[r].indexOf("=")+1).trim());return"mbusa205"==n&&"byoco380"==i&&(e=e+"u5="+$.cookie("MBUSA_WEB_ID")+";"),e}function addDoubleClickPixel(e){"use strict";var t=Math.random()+"",i=1e13*t,n="http://ad.doubleclick.net/activity;"+e+"num="+i+"?",r=window.document.createElement("img");attachPixelImage(r,n)}function addSpecificClickPixel(e){"use strict";var t="http://bp.specificclick.net?"+e+"&u="+window.escape(window.parent.document.location)+"&r="+window.escape(window.parent.document.referrer),i=window.document.createElement("img");attachPixelImage(i,t)}function addAudienceSciencePixel(e){"use strict";var t="http://ads.revsci.net/adserver/ako?"+e,i=window.document.createElement("img");attachPixelImage(i,t)}function addContextwebPixel(e){"use strict";var t="http://bh.contextweb.com/bh/set.aspx?"+e,i=window.document.createElement("img");attachPixelImage(i,t)}function addUndertonePixel(e){"use strict";var t=Math.random()+"",i=1e13*t,n="http://ads.undertone.com/f?"+e+"&cb="+i,r=window.document.createElement("img");r.setAttribute("style","display:none;"),attachPixelImage(r,n)}function addDisplayMarketPlacePixel(e){"use strict";var t="http://edge.aperture.displaymarketplace.com/audmeasure.gif?"+e,i=window.document.createElement("img");i.setAttribute("style","display:none;"),attachPixelImage(i,t)}function addCollectiveMediaPixel(e){"use strict";var t="http://b.collective-media.net/seg?"+e,i=window.document.createElement("img");attachPixelImage(i,t)}function addAdconionConversionPixel(e){"use strict";var t="http://ad.amgdgt.com/ads/?"+e,i=window.document.createElement("img");i.setAttribute("style","display:none;"),attachPixelImage(i,t)}function addAdconionBehaviorPixel(e){"use strict";var t="http://at.amgdgt.com/ads/?"+e,i=window.document.createElement("img");i.setAttribute("style","display:none;"),attachPixelImage(i,t)}!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/pageProps",t):(e.mb=e.mb||{},e.mb.pageProps=t())}(this,function(){"use strict";var e={},t={set:function(t,i){"[object Object]"==Object.prototype.toString.call(t)&&this.setAll(t),e[t]=i},get:function(t){return e[t]},setAll:function(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t])},getAll:function(){return e},reset:function(){e={}}};return t.setAll(window.pageProps||{}),t}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/applicationSettings",t):(e.mb=e.mb||{},e.mb.applicationSettings=t())}(this,function(){"use strict";var e={},t={set:function(t,i){"[object Object]"===Object.prototype.toString.call(t)&&this.setAll(t),e[t]=i},get:function(t){return e[t]},setAll:function(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t])},getAll:function(){return e},reset:function(){e={}}};return t.setAll(window.applicationSettings||{}),t}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.cityStateAutoComplete=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression;return a+='<form name="',(o=i.formName)?o=o.call(t,{hash:{},data:r}):(o=t&&t.formName,o=typeof o===s?o.call(t,{hash:{},data:r}):o),a+=l(o)+'" class="city-state-auto-complete">\n	<div class="input-container">\n    	<input class="zipInput" name="',(o=i.inputName)?o=o.call(t,{hash:{},data:r}):(o=t&&t.inputName,o=typeof o===s?o.call(t,{hash:{},data:r}):o),a+=l(o)+'" type="text" placeholder="Enter Zip Code or City, State" autocomplete="off" />\n    </div>\n    <button class="cancel" type="reset"></button>\n    <button class="blue-button zip-submit" name="find">Find Dealer</button>\n</form>'}),define("responsive/pages/templates/components/cityStateAutoComplete/cityStateAutoComplete",function(){}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/CityStateAutoComplete",["jquery","handlebars","responsive/mb/logger","responsive/mb/utils","eventBroadcaster","handlebars","modernizr","responsive/mb/respState","responsive/pages/templates/components/cityStateAutoComplete/cityStateAutoComplete"],t):(e.mb=e.mb||{},e.mb.components=e.mb.components||{},e.mb.components.CityStateAutoComplete=t(e.jQuery,e.Handlebars,e.mb.logger,e.mb.utils,e.EventBroadcaster,e.Handlebars,e.Modernizr,e.respState))}(this,function(e,t,i,n,r,o,a,s){"use strict";var l,c=function(n,o){var a={};return this.$wrapper=e(n),this.$input=void 0,this.$form=void 0,this.$cancel=void 0,this.$predictionsCont=e("<ul class='predictions' />"),this.broadcaster=new r,this.EVENTS={ZIP_SELECTED:"AUTOCOMPLETE_ZIP_SELECTED",ZIP_ERROR:"AUTOCOMPLETE_ZIP_ERROR",CLEAR_ZIP_ERROR:"CLEAR_ZIP_ERROR"},1!==this.$wrapper.length?void i.warn("CityStateAutoComplete: "+n+" is either invalid or there are more than one."):(this.opts={map:e("<div class='hidden-map' style='width:1px;height:1px;display:none;' />"),currentZipInputName:"currentZip",formName:"CityStateAutoCompleteForm",inputName:"cityState",formExists:!1,showSpinner:!0},"undefined"!=typeof o&&e.extend(this.opts,o),a={formName:this.opts.formName,inputName:this.opts.inputName},this.opts.formExists||this.$wrapper.append(t.templates.cityStateAutoComplete(a)).append(this.opts.map),this.$input=this.$wrapper.find('input[name="'+this.opts.inputName+'"]'),this.$form=this.$wrapper.find('form[name="'+this.opts.formName+'"]'),this.$cancel=this.$wrapper.find("button.cancel"),this.$zipSubmit=this.$wrapper.find(".zip-submit"),this.$spinnerWrapper=e('<div class="spinner-wrapper" />').appendTo(this.$form.find(".input-container")),this.$form.find(".input-container").append(this.$predictionsCont),this.$input.on("focus",function(e){require(["gmaps"],function(e){l=e,this.bindEventHandlers()}.bind(this)),this.$input.off("focus")}.bind(this)),this.placeholderShim(),this.bindDealerFormSubmit(),void this.placeholderShim())};return c.prototype.emptyPredictions=function(){this.$predictionsCont.empty()},c.prototype.cancelSearch=function(){this.emptyPredictions(),this.$wrapper.removeClass("is-typing"),this.$input.val(""),this.broadcaster.dispatchEvent(this.EVENTS.CLEAR_ZIP_ERROR)},c.prototype.onInputChange=function(e,t,i){isNaN(i)?i.length>2&&13!==t&&this.getCityNames(i):(this.emptyPredictions(),i.length>5&&e.preventDefault())},c.prototype.bindDealerFormSubmit=function(){var t=this;t.$form.off("submit").on("submit",function(i){i.preventDefault(),t.$input.val(t.$input.val().trim());var n=t.$input.val();if(5!==n.length||isNaN(n))if(t.$predictionsCont.find("li").eq(0).length){var r=t.$predictionsCont.find("li").eq(0),o=r.data("placeid");t.emptyPredictions(),o?(t.$input.val(r.find(".city-name").html()+", "+r.find(".state-id").html()),t.loadingMode(),setTimeout(function(){e.when(t.getDealerZip(o)).done(function(e){t.broadcaster.dispatchEvent(t.EVENTS.ZIP_SELECTED,null,{zip:e})})},10)):(t.broadcaster.dispatchEvent(t.EVENTS.ZIP_ERROR,null,{errorMsg:"Invalid city and state."}),t.clearLoadingMode())}else!isNaN(n)&&5!==n.length||n===t.$input.attr("placeholder")?t.broadcaster.dispatchEvent(t.EVENTS.ZIP_ERROR,null,{errorMsg:"Invalid zip code."}):t.broadcaster.dispatchEvent(t.EVENTS.ZIP_ERROR,null,{errorMsg:"Invalid city and state."});else{var a=/^\d{5}(?:[\-\s]\d{4})?$/;a.test(n)?(t.loadingMode(),setTimeout(function(){t.broadcaster.dispatchEvent(t.EVENTS.ZIP_SELECTED,null,{zip:n})},10)):t.broadcaster.dispatchEvent(t.EVENTS.ZIP_ERROR,null,{errorMsg:"Invalid zip code."})}})},c.prototype.bindEventHandlers=function(){var t=this;t.$cancel.off("click").on("click",function(e){t.cancelSearch()}),t.$input.off("keypress").on("keypress",function(i){var n,r=e(this),o=i.which?i.which:i.keyCode;if(!(o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o||32===o||13===o||8===o))return void i.preventDefault();if(13!==o&&8!==o)n=r.val()+String.fromCharCode(o);else if(n=r.val(),13===o)return;var a;return window.getSelection&&""!==window.getSelection().toString()?(a=window.getSelection().toString(),n=n.replace(a,"")):document.selection&&"Control"!==document.selection.type?(a=document.selection.createRange().text,n=n.replace(a,"")):r[0].selectionStart!==r[0].selectionEnd&&(a=r[0].value.substring(r[0].selectionStart,r[0].selectionEnd),n=n.replace(a,"")),null===n.match(/(^[0-9]{1,5}$)|(^[A-Za-z ]+$)/gi)?void i.preventDefault():(t.$wrapper.addClass("is-typing"),void t.onInputChange(i,o,n))}).off("keyup").on("keyup",function(i){var r=i.which?i.which:i.keyCode,o=e(this).val();8===r&&t.onInputChange(i,r,o),t.$input.val().length<1&&(t.$wrapper.removeClass("is-typing"),t.emptyPredictions()),a.touch&&n.isAndroidChromeBrowser()&&(o.length>0?t.$wrapper.addClass("is-typing"):t.$wrapper.removeClass("is-typing"),t.onInputChange(i,r,o))}),t.$wrapper.off("mouseover","li.autocomplete-place").on("mouseover","li.autocomplete-place",function(t){e("li.autocomplete-place.selected").removeClass("selected")}),t.$wrapper.off("click","li.autocomplete-place").on("click","li.autocomplete-place",function(i){e(this).hasClass("not-found")||(t.$input.val(e(this).text()),e.when(t.getDealerZip(e(this).data("placeid"))).done(function(i){t.$input.val(e(this).find(".city-name").html()+", "+e(this).find(".state-id").html()),t.loadingMode(),setTimeout(function(){t.broadcaster.dispatchEvent(t.EVENTS.ZIP_SELECTED,null,{zip:i})},10)}.bind(this)),t.emptyPredictions())})},c.prototype.loadingMode=function(){s.gt(s.STATES.PHONE)&&this.opts.showSpinner?n.enterLoadingMode(this.$wrapper):this.$zipSubmit.css("opacity",.5).attr("disabled","disabled")},c.prototype.clearLoadingMode=function(){s.gt(s.STATES.PHONE)?n.exitLoadingMode(this.$wrapper):this.$zipSubmit.removeAttr("disabled")},c.prototype.getDealerZip=function(t){var i,n=new l.places.PlacesService(this.opts.map.get(0)),r=new e.Deferred;return n.getDetails({placeId:t},function(e,t){var n=new l.Geocoder;n.geocode({location:e.geometry.location},function(e,t){if(null!==e)for(var n=0;n<e.length;n++){for(var o=0;o<e[n].address_components.length;o++)if("postal_code"===e[n].address_components[o].types[0]){i=e[n].address_components[o].long_name;break}if(void 0!==i)break}"99743"===i&&(i="99501"),"96743"===i&&(i="96732"),r.resolve(i)})}),r.promise()},c.prototype.showPredictionSpinner=function(){var e={lines:7,length:0,width:3,radius:4,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:0,left:0};window.setTimeout(function(){this.$spinnerWrapper.spin(e)}.bind(this),250)},c.prototype.hidePredictionSpinner=function(){window.setTimeout(function(){this.$spinnerWrapper.spin(!1)}.bind(this),250)},c.prototype.getCityNames=function(e){var t=new l.places.AutocompleteService;this.showPredictionSpinner(),t.getPlacePredictions({input:e,types:["(regions)"],componentRestrictions:{country:"us"}},function(e,t){null!==e?this.populateCityList(e.filter(function(e){return!!e.types&&-1===e.types.indexOf("administrative_area_level_1")})):this.citySearchError()}.bind(this))},c.prototype.populateCityList=function(t){this.emptyPredictions();var i,n="";e.each(t,function(e,t){var r=t.terms[0].value,o=t.terms[1].value,a=t.place_id,s="";0===e&&(s="selected"),t.types&&-1===t.types.indexOf("administrative_area_level_1")&&(i='<li class="autocomplete-place '+s+'" data-placeid="'+a+'"><span class="city-name">'+r+'</span>, <span class="state-id">'+o+"</span></li>",n+=i)}.bind(this)),this.$predictionsCont.append(n),this.hidePredictionSpinner()},c.prototype.citySearchError=function(){this.emptyPredictions();var e='<li class="autocomplete-place not-found">No results found</li>';this.$predictionsCont.append(e),this.hidePredictionSpinner()},c.prototype.placeholderShim=function(){if(!a.input.placeholder){var e=this;(""===e.$input.val()||e.$input.val()===e.$input.attr("placeholder"))&&e.$input.val(e.$input.attr("placeholder")).addClass("placeholder"),this.$input.focus(function(){e.$input.val()===e.$input.attr("placeholder")&&e.$input.val("").removeClass("placeholder")}).blur(function(){(""===e.$input.val()||e.$input.val()===e.$input.attr("placeholder"))&&e.$input.val(e.$input.attr("placeholder")).addClass("placeholder")})}},c}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/ga",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/metrics/core"],t):(e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.ga=t(e.jQuery,e.mb,e.mb.logger,e.mb.metrics))}(this,function(e,t,i,n){"use strict";var r={};return r.init=function(){i.level<=i.INFO&&i.info("mb.metrics.ga.init()")},r.isEngineRegistered=function(){return!!window._gaq},r.track=function(n){if(n&&"_satellite"===n.trackType)return void this.dtmTrack(n);if(n.action&&-1!==n.action.indexOf(":video:")){var r=t.getCurrentPage();if("undefined"!=typeof r&&("vehicles"!==r.getProperty("section")||"configure"!==r.getProperty("subsection")&&"gallery"!==r.getProperty("subsection")||((null===n.model||""===n.model)&&(n.model=e(".pp-vehicle-model").text()),(null===n["class"]||""===n["class"])&&(n["class"]=e(".pp-vehicle-class").text()),(null===n.year||""===n.year)&&(n.year=e(".pp-vehicle-year").text()),(null===n.bodyStyle||""===n.bodyStyle)&&(n.bodyStyle=e(".pp-vehicle-bodystyle").text()))),n&&"GA"===n.type&&null!==n.trackType){var o=[];for(var a in n)if("type"!==a&&"model"!==a&&"class"!==a&&"year"!==a&&"bodyStyle"!==a){if("optionValue"===a&&"string"==typeof n[a]){o.push(parseInt(n[a],10));continue}if("nonInteractive"===a&&"string"==typeof n[a]){o.push("true"===n[a]);continue}o.push(n[a])}window._gaq.push(o),i.level<=i.INFO&&i.info("mb.metrcis.ga.track()",o)}}},r.dtmTrack=function(e){var t="",i=e.vars;for(t in i)i.hasOwnProperty(t)&&window._satellite.setVar(t,i[t]);window._satellite.track(e.trackId)},r}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/floodlight",["jquery","responsive/mb/core","responsive/mb/logger"],t):(e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.floodlight=t(e.jQuery,e.mb,e.mb.logger))}(this,function(e,t,i,n){"use strict";var r={};return r.init=function(){i.info("mb.metrics.floodlight.init()")},r.isEngineRegistered=function(){return"function"==typeof GetFloodlightTag},r.track=function(e){if(e&&"floodlight"===e.type.toLowerCase()){var t=r.addWebUUID(e),n="";for(var o in t)"libType"===o||"fl_type"===o?n=n+"type="+t[o]+";":"type"!=o&&(n=n+o+"="+t[o]+";");GetFloodlightTag(n),i.info("mb.metrics.floodlight.track()",n)}},r.addWebUUID=function(t){if(t.u5&&""!=t.u5)return t;var i="",n=t.cat;return t.fl_type&&""!=t.fl_type&&(i=t.fl_type),t.libType&&""!=t.libType&&(i=t.libType),"mbu_a618"==n&&"apply259"==i?t.u5=e.cookie("MBUSA_WEB_ID"):"estim761"==i?t.u5=e.cookie("MBUSA_WEB_ID"):"mbusa205"==n&&"byoco380"==i?t.u5=e.cookie("MBUSA_WEB_ID"):"cpo_i639"==n&&"cpoin484"==i?t.u5=e.cookie("MBUSA_WEB_ID"):"MBUSA-"==n&&"MyPre--"==i&&(t.u5=e.cookie("MBUSA_WEB_ID")),t},r}),!function(e,t){"use strict";if("function"==typeof define&&define.amd)define("responsive/mb/metrics/core",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/events","responsive/mb/metrics/ga","responsive/mb/metrics/floodlight"],t);else{e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.ga=e.mb.metrics.ga||{},e.mb.metrics.floodlight=e.mb.metrics.floodlight||{};var i=t(e.jQuery,e.mb,e.mb.logger,e.mb.events,e.mb.metrics.ga,e.mb.metrics.floodlight);e.jQuery.extend(e.mb.metrics,i)}}(this,function(e,t,i,n,r,o){"use strict";function a(e){for(var t=e.split("/"),i={},n=0;n<t.length;n++)i[t[n].substr(0,t[n].indexOf("-"))]=window.unescape(t[n].substr(t[n].indexOf("-")+1,t[n].length));return i}function s(e){var t,i,n,r={};if("?"===e.charAt(0)&&(e=e.substr(1)),-1!==e.indexOf("/")&&-1!==e.indexOf("-")){n=e.split("/");for(var o=0;o<n.length;o++){var a=n[o],s=a.indexOf("-");t=a.substr(0,s),i=a.substr(s+1),r[t]=window.unescape(i)}}else{n=e.split("&");for(var l=0;l<n.length;l++){var c=n[l].split("=");t=c[0],i=c[1],r[t]=window.unescape(i)}}return r}function l(e){for(var t in m)m.hasOwnProperty(t)&&(m[t].isEngineRegistered(t)?m[t].track(e):i.error("The engine ("+t+") is not registered, nothing was tracked."))}function c(t){i.level<=i.DEBUG&&i.debug("metrics.wiretracking()","wiring: "+e(t).find(".track-click, .track-ga-event").length),e(t).on("click",".track-click, .track-ga-event",function(){var t=e(this).onClick,i=e(this).attr("rel");if(void 0!==i){for(var n=i.split("|"),r=!1,o=0;o<n.length;o++){var s=a(n[o]);"_link"===s.trackType?(p.trackGALink(this),r=!0):p.trackInteraction(s)}if(r)return!1}return t?(t(),!1):void 0})}function d(){c(e("header, footer"))}function u(e,t){p.registerEngine("FLOODLIGHT",o),p.registerEngine("ga",r),i.level<=i.DEBUG&&i.debug("metrics.onPageLoaded()");for(var n in m)m.hasOwnProperty(n)&&m[n].init();c(t.getNode())}var p={},m=[];return p.wireNode=function(e){i.level<=i.DEBUG&&i.debug("metrics.wireNode()"),c(e)},p.trackInteraction=function(e){"string"==typeof e&&(e=s(e)),"undefined"==typeof e.type&&(e.type="GA","undefined"==typeof e.trackType&&(e.trackType="_trackEvent")),l(e)},p.trackPage=function(e){"string"==typeof e&&(e=s(e)),l(e)},p.registerEngine=function(e,t){m[e]=t},p.trackGALink=function(e){if(m.ga.isEngineRegistered("ga")){window._gaq.push(["_setAllowLinker",!0]);var t=e.href;window._gaq.push(function(){"_blank"===e.target?window.open(window._gat._getTrackers()[0]._getLinkerUrl(t)):window._gaq.push(["_link",t])})}else i.error("The engine (ga) is not registered, nothing was tracked.");return!1},t.pageInited(d),t.pageLoaded(u),p}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/scrollTracker",["jquery","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/metrics/core","waypoints"],t):(e.mb=e.mb||{},e.mb.metrics.scrollTracker=t(e.jQuery,e.EventBroadcaster,e.mb,e.mb.logger,e.mb.metrics))}(this,function(e,t,i,n,r){"use strict";var o=function(){function o(){n.info("new waypoints created for scroll tracking"),f.waypoint({handler:function(t){a({section:e(this).attr("id")})}})}function a(t){if(void 0!==t&&f.length>0){var i,n=t.section?t.section:"";f.each(function(n,r){e(r).attr("id")===t.section&&(i=n+1)}),i||(i=0),r.trackInteraction({type:"GA",trackType:"_trackEvent",category:d+":scroll",action:d+":"+u+p+n,label:d+":"+i}),s=t.section}}var s,l,c,d,u,p,m={},f=e("div[data-scrolltrack=true]"),h=new t,v={PAGE_SCROLLED:"PAGE_SCROLLED"};return m.getDispatcher=function(){return h},m.getEvents=function(){return v},m.refresh=function(){e.waypoints("refresh")},m.init=function(){l=i?i.getCurrentPage().getProperties():pageProps,c=l.sections||[],c.length&&(d=c[1]?c[0]+"_"+c[1]:c[0],u=l["class"]?l["class"]+":":"",p=l.model?l.model+":":""),0===e.waypoints().vertical.length&&o(),h.addListener(v.PAGE_SCROLLED,a)},i.pageLoaded(m.init),m}();return o}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/handlebarsHelpers",["jquery","handlebars","responsive/mb/core","responsive/mb/utils","responsive/mb/logger"],t):t(e.jQuery,e.Handlebars,e.mb,e.utils,e.mb.logger)}(this,function($,Handlebars,mb,utils,logger){"use strict";function onPageLoaded(e,t){mbDoc=t,HandlebarsHelpers.registerAll()}var mbDoc,gDates=[],HandlebarsHelpers=function(){function registerAll(){math_helper(),if_all_helper(),unless_blank_helper(),if_blank_helper(),getDocProperty(),formatCommas(),getFallbackUrl(),foreach_helper(),modulo_helper(),formatCurrency(),youtubePlacholderUrl(),dateYMD(),getClearGif(),ext(),formatPhone(),injectClasses(),hyphenateToLowerCase(),encode_uri()}function encode_uri(){Handlebars.registerHelper("encode_uri",function(e){return encodeURI(e)})}function dateYMD(){Handlebars.registerHelper("dateYMD",function(e){if(!gDates[e]){var t=new Date((new Date).setMonth((new Date).getMonth()+("nextMonth"==e?1:0))),i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n=(10>n?"0":"")+n,r=(10>r?"0":"")+r,gDates[e]=i+"-"+n+"-"+r}return gDates[e]})}function math_helper(){Handlebars.registerHelper("math",function(e,t,i,n){return arguments.length<4&&(n=i,i=t,t="+"),e=parseFloat(e),i=parseFloat(i),{"+":e+i,"-":e-i,"*":e*i,"/":e/i,"%":e%i}[t]})}function if_all_helper(){Handlebars.registerHelper("if_all",function(){for(var e=[].slice.apply(arguments),t=e.pop(),i=t.fn,n=0;n<e.length;++n)if(!e[n]){i=t.inverse;break}return i(this)})}function unless_blank_helper(){Handlebars.registerHelper("unless_blank",function(e,t){return e&&e.replace(/\s/g,"").length?t.fn(this):t.inverse(this)})}function if_blank_helper(){Handlebars.registerHelper("if_blank",function(e,t){return"undefined"==typeof e||"null"==typeof e||"object"==typeof e&&null===e?t.fn(this):t.inverse(this)})}function getDocProperty(){Handlebars.registerHelper("get_doc_property",function(e){return mbDoc.getProperty(e)})}function getFallbackUrl(){Handlebars.registerHelper("fallback_image_url",function(){var e=mbDoc.getProperty("contextPath");return e+"/images/responsive/placeholders/notavail.jpg"})}function getClearGif(){Handlebars.registerHelper("clear_gif_url",function(){var e=mbDoc.getProperty("contextPath");return e+"/images/responsive/placeholders/clear.gif"})}function youtubePlacholderUrl(){Handlebars.registerHelper("youtube_placeholder_url",function(){var e=mbDoc.getProperty("contextPath");return e+"/images/responsive/placeholders/youtube.png"})}function formatCommas(){Handlebars.registerHelper("format_commas",function(e){if(isNaN(e))return e;e+="";for(var t=e.split("."),i=t[0],n=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1,$2");return i+n})}function foreach_helper(){Handlebars.registerHelper("foreach",function(e,t){return t.inverse&&!e.length?t.inverse(this):("map"in Array.prototype||(e.map=function(e,t){for(var i=new Array(this.length),n=0,r=this.length;r>n;n++)n in this&&(i[n]=e.call(t,this[n],n,this));return i}),e.map(function(i,n){return"string"==typeof i&&(i=new String(i)),i.$index=n,i.$first=0===n,i.$last=n===e.length-1,i.$count=n+1,i.$length=e.length,i.$multiple=e.length>1,i.$odd=n%2!==0,t.fn(i)}).join(""))})}function modulo_helper(){Handlebars.registerHelper("modulo",function(e,t,i){return e%t===0?i.fn():i.inverse()})}function formatCurrency(){Handlebars.registerHelper("format_currency",function(e){return utils.formatCurrency(e)})}function ext(){Handlebars.registerHelper("ext",function(context,options){"undefined"==typeof options&&(options=context,context=this);var data=options.data,parent=options.hash.parent,target=options.hash.target,targetQuery="",targetLoc="";target.indexOf(":")>0?(targetQuery=target.split(":")[0],targetLoc=target.split(":")[1]):targeQuery=target;var parentTemplateName="Handlebars."+parent,parentTemplate=eval(parentTemplateName);if("undefined"==typeof parentTemplate)return logger.info('Unknown handlebar parent [template: "'+this+'", parent: "'+parentTemplateName+'"'),options.fn(this);var parentHtmlSrc=parentTemplate(this),thisHtml=options.fn(this),$parent=$("<root>"+parentHtmlSrc+"</root>");switch(targetLoc){case"after":$(targetQuery,$parent).after(thisHtml);break;case"before":$(targetQuery,$parent).before(thisHtml);break;default:$(targetQuery,$parent).html(thisHtml)}return $($parent).html()})}function formatPhone(){Handlebars.registerHelper("format_phone",function(e){var t="+1";return e&&(t+=e.replace(/[\(\)\s\-]?/g,"")),t})}function injectClasses(){Handlebars.registerHelper("inject_classes",function(e){var t="";return"string"==typeof e?t=e:utils.isArray(e)&&(t=e.join(" ")),t})}function hyphenateToLowerCase(){Handlebars.registerHelper("hyphenateToLowerCase",function(e){return e&&"string"==typeof e?e.split(" ").join("-").toLowerCase():void 0})}function debug(){Handlebars.registerHelper("debug",function(e){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e))})}return{registerAll:registerAll}}();mb.pageLoaded(onPageLoaded)});var getFloodlightTag=GetFloodlightTag;!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/global",t):(e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.global=t())}(this,function(){"use strict";var e={FLOODLIGHT:function(e){window.getFloodlightTag(e)},DOUBLECLICK:function(e){window.addDoubleClickPixel(e)},SPECIFICCLICK:function(e){window.addSpecificClickPixel(e)},AUDIENCE_SCIENCE:function(e){window.addAudienceSciencePixel(e)},CONTEXTWEB:function(e){window.addContextwebPixel(e)},UNDERTONE:function(e){window.addUndertonePixel(e)},DISPLAYMARKETPLACE:function(e){window.addDisplayMarketPlacePixel(e)},COLLECTIVEMEDIA:function(e){window.addCollectiveMediaPixel(e)},ADCONION_CONVERSION:function(e){window.addAdconionConversionPixel(e)},ADCONION_BEHAVIOR:function(e){window.addAdconionBehaviorPixel(e)},parseParams:function(e){var t=e||{},i="";for(var n in t)if("FLOODLIGHT"===t.type||"DOUBLECLICK"===t.type){if("type"!==n){var r="libType"===n?"type":n;i+=r+"="+t[n]+";"}}else"type"!==n&&(i+=n+"="+t[n]+"&");return i}};return e}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/pages/global_metrics",["jquery","responsive/mb/core","responsive/mb/metrics/global"],t):t(e.jQuery,e.mb,e.mb.metrics.global)}(this,function(e,t,i){"use strict";function n(){for(var e="undefined"!=typeof analyticsProps?window.analyticsProps:[],t=0;t<e.length;t++)"undefined"!=typeof window.analyticsProps[t]&&i[window.analyticsProps[t].type](i.parseParams(window.analyticsProps[t]))}return t.pageLoaded(n),{}}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/utils/guid",["jquery"],t):(e.mb=e.mb||{},e.mb.utils=e.mb.utils||{},e.mb.utils.guid=t(e.jQuery))}(this,function(e){"use strict";function t(){return n++,"guid-"+n}function i(e){return e.each(function(e,i){i.getAttribute("id")||i.setAttribute("id",t())}),e}var n=0;return{generate:t,verifyId:i}}),define("responsive/mb/components/video/YoutubeVideoPlayer",["jquery","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/guid","responsive/mb/metrics/core"],function(e,t,i,n,r,o,a){"use strict";function s(e){if(u)throw new Error("you should not try to queue this YoutubeVideoPlayer as the YOUTUBE API is ready.");if(p.push(e),!m){window.onYouTubePlayerAPIReady=l,m=!0;var t=window.document.createElement("script");t.src="https://www.youtube.com/player_api";var i=window.document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}function l(){for(u=!0,n.info("Youtube api is ready");p.length>0;)p.shift()()}function c(e,t){d=t}var d,u=!1,p=[],m=!1,f=0,h=!1,v=function(l,c){function p(){f=c.autoplay?1:0,l.css({position:"relative"}),x=l.html();var e='<div class="yt-fader" style="position:absolute; top:0; right:0; bottom:0; left:0"></div>';A=o.generate(),e+='<div id="'+A+'" >'+l.html()+"</div>",l.html(e),O=l.find(".yt-fader");var t=l.parent('div[data-video-init="true"]');t.length>0&&l.css({backgroundColor:"#000",width:"100%",height:"100%"});var i=l.width(),n=l.height();setTimeout(function(){r.enterLoadingMode(l,{type:_.spinnerType,width:i,height:n})},1),u?T():s(T)}function m(e,t){var i=e.target;H=window.setInterval(function(){v(i,t)},3e3)}function v(e,t){n.info("durationMonitoring: data = ",t);var i,r,o=Math.floor(e.getCurrentTime()/R*100);for(i=0,r=j.length;r>i;i++)if(1===Math.floor(o/j[i])){b(j[i]),g(t.videoId,t.videoName,j[i]),j.splice(i,1);break}}function b(e){var t=":video:",i=d.getProperty("sections"),n="",r=0;for(90===e&&window.clearInterval(H),r=0;r<i.length;r++)0!==r&&(n+=" "),n+=i[r];t=n+t,0===e?t+="start:":100===e?t+="end:":t=t+e+"%_complete:",t+=_.videoName+":"+_.videoId,a.trackInteraction({type:"GA",trackType:"_trackEvent",category:n,action:t,label:n})}function g(e,t,i){a.trackInteraction({type:"GA",trackType:"_satellite",vars:{videoID:e,videoTitle:t,videoMilestone:i},trackId:"videoMilestone"})}function y(e,t){switch(n.info("onStateChangeHandler(): evt = ",e,t),n.info("data.videoId = ",t.videoId),e.data){case window.YT.PlayerState.ENDED:H&&window.clearInterval(H),b(100),g(t.videoId,t.videoName,100),$.dispatchEvent(L.ENDED,this,{uid:t.uid,videoId:t.videoId});break;case window.YT.PlayerState.PLAYING:b(0),g(t.videoId,t.videoName,0),m(e,t),$.dispatchEvent(L.PLAY,this,{uid:t.uid,videoId:t.videoId});break;case window.YT.PlayerState.PAUSED:H&&window.clearInterval(H),$.dispatchEvent(L.PAUSE,this,{uid:t.uid,videoId:t.videoId});break;case window.YT.PlayerState.BUFFERING:$.dispatchEvent(L.BUFFERING,this,{uid:t.uid,videoId:t.videoId});break;case window.YT.PlayerState.CUED:}}function w(e){window.clearTimeout(D),l.css({paddingTop:""}),l.html(x),l.addClass("failed")}function E(){window.clearTimeout(D),n.info("video is ready"),h=!0,R=N.getDuration(),O&&O.length>0&&O.animate({opacity:0},{duration:1e3,easing:"easeOutExpo",complete:function(t){O&&O.length>0&&O.remove(),O=null,$.dispatchEvent(L.PLAYER_READY,this,{}),e.waypoints("refresh")}})}function S(){if(_.responsive){var e=_.height/_.width*100,t=l.find("iframe");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),l.css({width:"100%",height:"100%",position:"relative",paddingTop:e+"%"})}}function T(){setTimeout(function(){r.exitLoadingMode(l)},1);var e=window.Modernizr.video?1:0;N=new window.YT.Player(A,{height:_.height,width:_.width,videoId:_.videoId,playerVars:{rel:0,wmode:"transparent",modestbranding:1,showinfo:0,autoplay:f,origin:"//"+window.document.domain,iv_load_policy:3,html5:e},events:{onReady:E,onStateChange:function(e){n.info("o = ",_),y(e,{uid:_.uid,videoId:_.videoId,videoName:_.videoName})},onError:w}}),S(),D=window.setTimeout(w,1e4)}function C(){N&&N.getPlayerState&&1!==N.getPlayerState()&&(e("#"+A).length&&N.playVideo(),n.info("Video Play"))}function k(){N&&N.getPlayerState&&(1===N.getPlayerState()||3===N.getPlayerState())&&(e("#"+A).length&&N.pauseVideo(),n.info("Video Paused"))}function P(){if(N&&N.getPlayerState&&(n.info("Youtube Video Player destroyed"),1===N.getPlayerState()&&N.pauseVideo(),N.clearVideo)){var t=e("#"+A);t.length&&t.find(".failed").length&&N.clearVideo()}}function I(){k()}var N,A,O,D,x,_={uid:"UNIQUE_ID",width:"100%",height:"",videoId:"M7lc1UVf-VE",videoName:"NO NAME",responsive:!0,spinnerType:"DARK"},L={PAUSE:"PAUSE",PLAY:"PLAY",END:"END",PLAYER_READY:"PLAYER_READY",PLAYER_CLOSE:"PLAYER_CLOSE",BUFFERING:"BUFFERING"
},$=new t,R=0,H=0,j=[25,50,75,90];return _=e.extend(!0,_,c),_.videoName=e.trim(_.videoName.replace(/[^A-Za-z0-9\s\-_]/g,"")),""===_.videoName&&(_.videoName="NO NAME"),p(),i.broadcaster.addListener(i.events.VIDEO_PAUSE_ALL,I),{uid:_.uid,apiReady:T,play:C,pause:k,kill:P,EVENTS:L,dispatcher:$}};return i.pageLoaded(c),v}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/modal",["jquery","modernizr","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/respState","responsive/mb/events","responsive/mb/components/video/YoutubeVideoPlayer"],t):(e.mb=e.mb||{},e.mb.modal=t(e.jQuery,e.Modernizr,e.EventBroadcaster,e.mb,e.mb.logger,e.mb.utils,e.mb.respState,e.mb.events))}(this,function(e,t,i,n,r,o,a,s,l){"use strict";var c=function(){function t(e,t){var i=""!==t.getProperty("combineMinify")?t.getProperty("combineMinify"):!0;w=t.getProperty("contextPath")||"/"+window.location.pathname.split("/")[1],i&&(C="/compressed"),u(),y()}function s(){T.resize(),T.setStyles()}function c(){k||(u(),T.$backdrop=T.options.backdrop?p():null,T.$modal=m(),T.$modalHeader=h(),T.$modalCloseBtn=f(),T.setStyles(),k=!0)}function d(){}function u(){P||(window.document.createStyleSheet?window.document.createStyleSheet(w+C+"/css/responsive/modal.css"):e("<link/>",{rel:"stylesheet",type:"text/css",href:(window.MB_SYNDICATE?"//www.mbusa.com":"")+w+C+"/css/responsive/modal.css"}).appendTo("head"),P=!0)}function p(){var t=e("#mb-modal-backdrop");return t.length<=0&&(t=e('<div id="mb-modal-backdrop" />').addClass("mb-fx-"+T.options.backdropTransition).appendTo(window.document.body)),t.click(T.close),t}function m(){var t=e("#mb-modal");return t.length<=0&&(t=e('<div id="mb-modal" />').addClass("mb-fx-"+T.options.modalTransition).appendTo(window.document.body)),t}function f(){var t=e("#mb-modal-close-btn");return t.length<=0&&(t=e('<div id="mb-modal-close-btn" />').appendTo(m()),e(window.document).on("click","#mb-modal-close-btn",T.close)),t}function h(){var t=e('<div class="mb-modal-header" />').appendTo(T.$modal);return t}function v(){try{T.panels={},T.options.backdrop&&T.$backdrop.remove(),T.options.mobile.backdropClassName&&T.$modal.removeClass(T.options.mobile.backdropClassName),T.options.backdropClassName&&T.$modal.removeClass(T.options.backdropClassName),T.$modal.remove(),T.$modalCloseBtn.remove(),k=!1,I=!1}catch(e){r.error(e)}}function b(t,i){"on"===t?e(i||window).off("mousewheel DOMMouseScroll"):"off"===t&&e(i||window).on("mousewheel DOMMouseScroll",function(e){var t=e.wheelDelta||-e.detail;this.scrollTop+=30*(0>t?1:-1),e.preventDefault()})}function g(t,i){var n=e(t),r=n.data("videoid"),o=n.find(".yt-placeholder"),a={width:940,height:529,autoplay:!!i,videoId:r};0===o.length&&(o=n.append('<div class="yt-placeholder"></div>')),N.push(new l(o,a))}function y(){e(window.document).keyup(function(e){27===e.which&&T.close()})}var w,E,S,T={},C="",k=!1,P=!1,I=!1,N=[];return T.currentPanelObj=null,T.panels={},T.dispatcher=new i,T.EVENTS={OPEN:"OPEN",CLOSE:"CLOSE",ADD_PANEL:"ADD_PANEL",RESIZE:"RESIZE"},T.options={backdrop:!0,backdropColor:"black",backdropOpacity:1,backdropTransition:"fade",backdropClassName:null,modalBackgroundColor:"white",modalTransition:"fade",sticky:!1,transitionDuration:"0.15s",transitionTimingFunction:"ease-out",resize:"true",mobile:{backdropColor:"transparent",backdropOpacity:1,backdropClassName:null,modalBackgroundColor:"white"}},T.setOptions=function(t){return e.extend(T.options,t),T},T.setStyles=function(){"undefined"!=typeof T.$modal&&(a.lt(a.STATES.TABLET)?(T.options.mobile.backdropClassName&&T.$modal.addClass(T.options.mobile.backdropClassName),T.$modal.css({background:T.options.mobile.modalBackgroundColor+" none"}),T.options.backdrop&&T.$backdrop.css({background:T.options.mobile.backdropColor+" none",opacity:T.options.mobile.backdropOpacity})):(T.options.backdropClassName&&T.$modal.addClass(T.options.backdropClassName),T.$modal.css({background:T.options.modalBackgroundColor+" none"}),T.options.backdrop&&T.$backdrop.css({background:T.options.backdropColor+" none",opacity:T.options.backdropOpacity})))},T.addPanel=function(t,i,n){c();var r,o,a=e.Callbacks();return r=e.isFunction(i)||"undefined"===i?"panel_"+(Object.size(T.panels)+1):i,"undefined"==typeof T.panels[r]?(T.currentPanelObj=T.panels[r]=new T.panel(r,t),T.$currentPanel=e(T.currentPanelObj.html).hide().appendTo(T.$modal)):(T.currentPanelObj=T.panels[r],T.$currentPanel=T.$modal.find("."+T.currentPanelObj.id).hide()),T.$currentPanelContentElement=T.$currentPanel.find(".mb-modal-panel"),o=e.isFunction(i)&&"undefined"===o?i:n,e.isFunction(o)&&(a.add(o),a.fireWith(T,[T.$currentPanelContentElement,T.$currentPanel])),T.dispatcher.dispatchEvent(T.EVENTS.ADD_PANEL,null,T.$currentPanel,T),T},T.open=function(t,i,n,r){o.isObject(n)?T.setOptions(n):o.isObject(r)&&T.setOptions(r),c();var s,l,d,u=e.Callbacks();return a.lt(a.STATES.TABLET)?(E=e(window).scrollTop(),l={opacity:T.options.mobile.backdropOpacity},e("body").css({position:"fixed"})):l={opacity:T.options.backdropOpacity},e.isFunction(t)||"undefined"===t?s=t:(T.addPanel(t,i),s=n),d=T.$modal.find(".yt-placeholder").parent(),d.length>0&&d.each(function(){g(e(this),!1)}),T.$modal.find(".mb-modal-panel").hide(),T.$modal.find("."+T.currentPanelObj.id).show(),S=T.$modal[0].offsetWidth,I=!0,T.options.backdrop&&(S=T.$backdrop[0].offsetWidth,T.$backdrop.show(),T.$backdrop.css({"transition-property":"opacity","transition-duration":T.options.transitionDuration,"transition-timing-function":T.options.transitionTimingFunction}),T.$backdrop.css(l)),T.$modal.show(),T.$modalCloseBtn.show(),T.$modal.css({"transition-property":"opacity","transition-duration":T.options.transitionDuration,"transition-timing-function":T.options.transitionTimingFunction}),T.$modal.css({opacity:1}),T.resize(),T.options.sticky||b("off",window),e.isFunction(s)&&(u.add(s),u.fireWith(T,[T.$currentPanelContentElement,T.$currentPanel])),T.dispatcher.dispatchEvent(T.EVENTS.OPEN,null,T.$currentPanel,T),T},T.close=T.remove=T.kill=function(t){if(k&&I){if(N.length>0){for(var i=0,n=N.length;n>i;i++)N[i].kill&&N[i].kill();N=[]}v(),b("on",window),e.isFunction(t)&&t(),a.lt(a.STATES.TABLET)&&e("body").css({position:"relative"}),e(window).scrollTop(E),T.dispatcher.dispatchEvent(T.EVENTS.CLOSE,null,T.$currentPanel,T)}return T},T.resize=function(t,i,n){if("undefined"!=typeof T.$currentPanel&&T.options.resize){if(a.gt(a.STATES.PHONE)){var r,s;if(r=t?T.currentPanelObj.width=t:T.currentPanelObj.width=T.$currentPanel.outerWidth(!0),s=i?T.currentPanelObj.height=i:T.currentPanelObj.height=T.$currentPanel.outerHeight(!0),T.options.sticky){T.$modal.css({width:r,height:"auto","margin-left":-(r/2),"margin-top":-(s/2)+e(window).scrollTop()});var l=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=T.$modal.outerHeight();c>l-40&&T.$modal.css({"margin-top":-(l/2)+e(window).scrollTop()+40}),T.$modal.addClass("sticky")}else T.$modal.css({width:r,height:"auto","margin-left":-(r/2),"margin-top":-(s/2)})}else{var d=o.isAndroidAospBrowser()?e(window).width():"auto";T.$modal.css({width:d,height:"auto",marginLeft:0,marginTop:0})}return e.isFunction(t)?t():e.isFunction(n)&&n(),T.dispatcher.dispatchEvent(T.EVENTS.RESIZE,null,T.$currentPanel,T),T}},n.pageLoaded(t),a.dispatcher.addListener(a.EVENTS.EVENT_MARKER_CHANGE,s),a.dispatcher.addListener(a.EVENTS.ORIENTATION_CHANGED,d),e(window).bind("resize",e.throttle(150,function(){T.resize()})),T}();return c.panel=function(e,t){this.id=e,this.html='<div class="mb-modal-panel '+e+'">',this.html+=t,this.html+="</div>"},c}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/RichData",["jquery","handlebars","responsive/mb/core","responsive/mb/utils","responsive/mb/respImage"],t):(e.mb=e.mb||{},e.mb.components=e.mb.components||{},e.mb.components.RichData=t(e.jQuery,e.Handlebars,e.mb,e.mb.utils,e.mb.respImage))}(this,function(e,t,i,n,r){"use strict";var o=function(i,o,a,s){var l,c,d,u,p,m;for(this.getData=function(){return l},this.getContainerId=function(){return c},l=o||{},c=i||"",d=a||[],u=s||"",p=0,m=d.length;m>p;p++)t.registerHelper(d[p].name,d[p].action);var f=t.templates[u],h=f(l),v=e("#"+c);v.html(h),n.exitLoadingMode(v),r.reInit(v)};return o}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/disclaimer",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/respState"],t):(e.mb=e.mb||{},e.mb.disclaimer=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.respState))}(this,function(e,t,i,n,r){"use strict";var o=i,a=function(){function i(){a(),e("body").on("click",y,s)}function a(){e('.disclaimer-content[data-wired!="true"]').each(function(t,i){var n=e(i),r=n.attr("data-guid")||v();n.attr("id",r);var o,a=n.attr("data-disclaimerType");switch(a){case"INLINE-PREV-INJECT":o=h(r,"(Disclaimer)"),n.prev().append(o);break;case"PACKAGE-MAIN":o=h(r,"(Disclaimer)"),n.parents("div.internal").append(o);break;case"INJECT":var s=n.attr("data-title")||"SET Data-Title!";o=h(r,s),n.before(o);break;case"PRE-WIRED":break;default:throw new Error("this disclaimer type was not known : "+a)}n.attr("data-wired","true"),E[r]=n.html(),n.remove()})}function s(t){var i=e(t.currentTarget),n=i.attr("data-guid");o.info(n),t.stopPropagation(),t.preventDefault();var r=b?b.attr("data-guid"):-1;return r===n?void u():void l(i,E[n])}function l(t,i){b&&u(),b=t,b.addClass("on"),e(".disclaimer-container").remove();var o="";o+='<div class="disclaimer-container">',o+='<div class="close"><a href="#">close</a></div>',o+='<div class="inner"> ',o+='<div class="mobile-scroll"> '+i+"</div>",o+="</div>",o+='<div class="disclaimer-arrow" />',o+="</div>",e("body").addClass("disclaimer-opened"),r.e(r.STATES.PHONE)&&(w=e(window).scrollTop()),e("body").append(o),f(),e(window).on("resize",e.throttle(250,p)),e(window.document).on("click touchend",c),n.isIPad()&&e(window).on("orientationchange",m),e(".disclaimer-container .close a").on("click",d),e(".disclaimer-container").css({opacity:0}).animate({opacity:1},{duration:100,ease:"easeOutExpo"})}function c(t){var i=e(t.target);r.gt(r.STATES.PHONE)&&0===i.closest(".disclaimer-container").length&&i.hasClass("disclaimer-container")===!1&&i.is(b)===!1&&u()}function d(t){t.preventDefault(),t.stopPropagation(),e(window).scrollTop(w),u()}function u(){e(window).off("resize",e.throttle(250,p)),e(window.document).off("click touchend",c),e(".disclaimer-container .close a").off("click",d),e(window).off("orientationchange",m),e("body").removeClass("disclaimer-opened");var t=e(".disclaimer-container");e(".internal a.disclaimer-open").removeClass("on"),b&&b.removeClass("on"),b=null,t.remove()}function p(){r.e(r.STATES.PHONE)?f():u()}function m(){u()}function f(){var t=e(".disclaimer-container");if(0!==t.length)if(r.gt(r.STATES.PHONE)){var i=b.offset(),o=i.left+b.width()/2,a=i.top,s=308,l=o-s/2;o=l,a-=t.height()+30;var c=e(window).width()-s;o=Math.min(c,o),o=Math.max(o,0);var d=s/2+l-o;d+=-4,n.isIPad()&&(d+=-6),t.find(".disclaimer-arrow").css({left:d}),t.css({left:o,top:a,height:"",width:""})}else{t.css({left:0,top:0});var u=e(window).height();n.isIOS()&&(u=window.document.documentElement.clientHeight,u+=60),t.height(u),t.width(e(window).width())}}function h(e,t){var i="";return i+=' <a href="#" data-guid="'+e+'" class="disclaimer-open">',i+=t,i+="</a> "}function v(){return g++,"disclaimer-guid-"+g.toString()}var b,g=0,y=".disclaimer-open",w=0,E={};return t.pageLoaded(i),{refresh:a,INLINE_ANCHOR_SELECTOR:y,showDisclaimer:l,hideDisclaimer:u}}();return a}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/utils/HistoryState",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils"],t):(e.mb=e.mb||{},e.mb.utils=e.mb.utils||{},e.mb.utils.HistoryState=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils))}(this,function(e,t,i,n){"use strict";var r=function(e){var t={};t.fullUrl=e;var i=t.fullUrl.split("#");if(t.rawAddress=i[0].split("?")[0],t.rawHash=i[1]?i[1]:"",""===t.rawAddress){var o=new r(window.location.toString());t.rawAddress=o.rawAddress,t.fullUrl=t.rawAddress+"#"+t.rawHash}if(t.cleanHash=t.rawHash,t.hashParams=n.paramsFromString(t.cleanHash),t.addressParams=n.paramsFromString(t.rawAddress),t.params=jQuery.extend(!0,{},t.addressParams,t.hashParams),t.isGallery=void 0!==t.hashParams.gallery,t.isGallery){var a=t.hashParams.gallery.split("|");t.gallery={id:a[0],section:a[1],slideIndex:a[2]}}return t.equals=function(e){return t.fullUrl===e.fullUrl},t};return r}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/autoOffset",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/respState"],t):(e.mb=e.mb||{},e.mb.autoOffset=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.respState))}(this,function(e,t,i,n,r){"use strict";var o=function(){function t(){p=e(window),m=e("body"),f=e("html,body"),e("html").hasClass("lt-ie9")&&f.add(window.document)}function o(){g||y===p.scrollTop()||s()}function a(){var t=e(u.navSelector+".sticky"),o=l.offset().top;t.length>0&&r.gte(r.STATES.TABLET)&&(o-=t.outerHeight()),o+=u.extraTop;var a=m.height()-p.height()-10;o=Math.min(a,o),o=Math.max(0,o),y!==o&&(g=!0,e(".sub-nav-v2").length>0&&(o-=e(".sub-nav-v2").height()),y=o,e.waypoints("refresh"),f.stop(!0).animate({scrollTop:o},{duration:u.duration,ease:u.ease,complete:function(){i.log("autoscroll completed for this loop"),window.setTimeout(function(){g=!1},150),n.isIPad()&&u.ipadFix&&(e(u.navSelector).removeClass("sticky"),f.scrollTop(o),e(u.navSelector).addClass("sticky"))}}))}function s(){d&&(v=-1,l=null,c=null,window.clearInterval(d),d=null,p.off("scroll",o),u={duration:0,easing:"easeOutExpo",extraTop:0,stickAtAnchor:!0,ipadFix:!1,navSelector:"#inpage"},y=-1)}var l,c,d,u,p,m,f,h={},v=-1,b=250,g=!1,y=-1;return h.activateToAnchor=function(t,r){return c===t?void i.info("autoOffset, just got a command togo to the same ID: "+t+" \n so we will just let the previous command keep going"):(s(),y=-1,c=t,l=e("#"+t),u={duration:0,easing:"easeOutExpo",extraTop:0,stickAtAnchor:!0,ipadFix:!1,navSelector:"#inpage"},u=e.extend(!0,u,r||{}),null!==e(".sub-nav")&&void 0!==e(".sub-nav")&&e(".sub-nav").length>0&&0==u.extraTop&&n.paramsFromString(window.location.hash.toString()).waypoint&&(u.extraTop=-e(".sub-nav").outerHeight(!0)),l.length?(p.on("scroll",o),a(),void(u.stickAtAnchor&&(d=window.setInterval(a,b)))):void(i.level<=i.ERROR&&i.error("autoOffset error, container doesn't exist: "+t)))},t(),h}();return o}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/utils/history",["jquery","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/HistoryState","responsive/mb/autoOffset","responsive/lib/jquery.ba_hashchange","responsive/lib/waypoints_sticky"],t):(e.mb=e.mb||{},e.mb.utils=e.mb.utils||{},e.mb.utils.history=t(e.jQuery,e.EventBroadcaster,e.mb,e.mb.logger,e.mb.utils,e.mb.utils.HistoryState,e.mb.autoOffset))}(this,function(e,t,i,n,r,o,a){"use strict";function s(){T.info("starting utils.history"),i.pageLoaded(l),e(window).hashchange(f),f()}function l(e,t){var i=window.location.hash;i=0===i.indexOf("#")?i.substring(1):i;var n=r.paramsFromString(i).waypoint;n&&a.activateToAnchor(n)}function c(e,t){var i=v().rawHash;return 0===e.indexOf("#")&&(e=e.substr(1)),window.location.hash=e,i!==e}function d(e){var t,i="#",n=e||S.hashParams,r=0;for(t in n)i+=r>0?"&":"",i+=t+"="+n[t],r++;c(i)}function u(e){var t=window.location.hash,i=r.paramsFromString(t);return i[e]}function p(e,t){return S.hashParams[e]=t,d()}function m(e){0===e.indexOf("#")&&(e=e.substr(1));var t,i=r.paramsFromString(e);for(t in i)S.hashParams[t]=i[t];return d()}function f(){S=h(),C.dispatchEvent(k.HISTORY_CHANGE,null,S)}function h(){return new o(window.location.toString())}function v(){return S}function b(){return P}function g(){P=""}function y(){return I}function w(e){I=e}function E(){f()}var S,T=n,C=new t,k={HISTORY_CHANGE:"HISTORY_CHANGE"},P="",I=!1,N={dispatcher:C,EVENTS:k,getCurrent:v,setRawHash:c,paramsObjToHash:d,getParamByName:u,updateParamByName:p,updateParamsFromHash:m,getInitialHashFlag:y,setInitialHashFlag:w,getInitialHash:b,clearInitialHash:g,refresh:E};return s(),N}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/pages/dealers/PreferredDealersData",["jquery","modernizr"],t):(e.mb=e.mb||{},e.mb.pages=e.mb.pages||{},e.mb.pages.Dealers=e.mb.pages.Dealers||{},e.mb.pages.Dealers.PreferredDealersData=t(e.jQuery,e.Modernizr))}(this,function(e,t){"use strict";var i=function(){function i(t,i,r){u.readyState<4&&u.abort();var o=pageProps.contextPath+"/json/";o+="dealers"+(i?i+"&trim=true":""),u=e.ajax({type:"GET",url:o,data:{},dataType:"json",cache:!0,async:r,success:function(e){t(n(e))},error:function(e,i,n){t({status:i,error:n})}})}function n(t){function i(e){var t,i={};return e.length&&(t=e[0],t.dealer.contact=r(t.dealer.contact),t.dealer.contact.phones[0].cleanNumber=n(t.dealer.contact.phones[0].number),i={mapDomain:d,businessType:p.DEALERS,id:t.dealer.id,name:t.dealer.contact.name,contact:t.dealer.contact,pointOfInterest:t.pointOfInterest,isAmg:t.dealer.isAmg,inZevState:t.dealer.inZevState,hasInventory:t.dealer.hasInventory},t.distance>0&&(i.distance=parseFloat(Math.round(100*t.distance)/100).toFixed(2)),m[p.DEALERS][i.id]=i),i}function n(e){var t=e.replace(/[^\d]/g,"");return"1-"+t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}function r(e){for(var t in e.phones)if(e.phones[t]&&e.phones[t].phoneType&&"FAX"===e.phones[t].phoneType){e.phones=[e.phones[0]];break}return e}var o={};return o=i(t.dealers),e.isEmptyObject(o)||(o.preferred="preferred"),o}function r(t,i){return s().length>=1?void 0:(c&&window.localStorage.setItem("preferredDealers-"+t,JSON.stringify(i)),e.cookie("dealerCode",t,{path:"/",expires:365}),i)}function o(t){c&&window.localStorage.removeItem("preferredDealers-"+t),e.removeCookie("dealerCode",{path:"/"})}function a(t){var n;return c&&null!==window.localStorage.getItem("preferredDealers-"+t)?n=e.parseJSON(window.localStorage.getItem("preferredDealers-"+t)):i(function(e){e.error||e.notFound||(c&&window.localStorage.setItem("preferredDealers-"+t,JSON.stringify(e)),n=e)},"?searchType=byDealerID&id="+t,!1),n}function s(){var t,i=[];return null!==e.cookie("dealerCode")&&(t=a(e.cookie("dealerCode")),t.preferred="preferred",i.push(t)),i}function l(t,n,r){i(function(t){t=a(e.cookie("dealerCode")),void 0!==t.distance&&r.html(t.distance+" mi")},"?searchType=byDealerID&zip="+t+"&id="+n,!0)}var c=t.localstorage,d="www.google.com/maps",u={},p={DEALERS:"DEALERS",COLLISIONCENTER:"COLLISIONCENTER"},m={};return m[p.DEALERS]={},m[p.COLLISIONCENTER]={},{add:r,remove:o,find:a,all:s,cached_dealers:m,getDistancePreferredDealer:l}}();return i}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/SubNav",["jquery","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/history","responsive/mb/utils/HistoryState","responsive/mb/respState","responsive/mb/autoOffset","responsive/mb/metrics/scrollTracker","responsive/pages/dealers/PreferredDealersData"],t):(e.mb=e.mb||{},e.mb.pages=e.mb.pages||{},e.mb.pages.dealers=e.mb.pages.dealers||{},e.mb.components=e.mb.components||{},e.mb.components.SubNav=t(e.jQuery,e.EventBroadcaster,e.mb,e.mb.logger,e.mb.utils,e.mb.utils.history,e.mb.utils.HistoryState,e.mb.respState,e.mb.autoOffset,e.mb.metrics.scrollTracker,e.mb.pages.dealers.PreferredDealersData))}(this,function(e,t,i,n,r,o,a,s,l,c,d){"use strict";var u,p=function(){return function(i,r,p,m,f){function h(){D=e(window),x=$,o.dispatcher.addListener(o.EVENTS.HISTORY_CHANGE,T),s.dispatcher.addListener(s.EVENTS.EVENT_MARKER_CHANGE,E),L.on("click",v),_.waypoint({handler:S,offset:"13%"}),e.waypoints("refresh"),D.on("scroll",y),y(null),u=void 0!=d&&null!=d&&e.cookie("dealerCode")?d.find(e.cookie("dealerCode")):{}}function v(t){t.preventDefault();var i,n,r=new a(e(this).attr("href"));r.params.waypoint?(n=r.params.waypoint,i=r.cleanHash):(i="#waypoint="+r.cleanHash,n=r.cleanHash),o.updateParamsFromHash(i),o.getCurrent().params.waypoint===n&&b(n),H.dispatchEvent(j.INTERNAL_LINK_CLICKED,null,e(this))}function b(t){var i={duration:300,extraTop:2};f&&s.gte(s.STATES.TABLET)&&(i.extraTop=f);var n=e.waypoints("viewportHeight");"gallery-stack"===t&&("gallery-container"===R||"gallery-stack"===R)&&400>n||l.activateToAnchor(t,i)}function g(e){b(e)}function y(e){if(m&&m.length>0){var t=m.offset().top+m.outerHeight();w(D.scrollTop()>=t?!0:!1)}}function w(t){t===!0?(x.addClass("sticky"),s.gte(s.STATES.TABLET)&&e(".inpage_placeholder").length<=0&&(x.before(e('<div class="inpage_placeholder"></div>')),e(".inpage_placeholder").css("height",x.outerHeight()))):(x.removeClass("sticky"),e(".inpage_placeholder").length>0&&e(".inpage_placeholder").remove())}function E(e,t){y(null),c.refresh()}function S(t){var i,r=e(this);n.info("direction="+t),"up"===t&&(r=r.waypoint("prev")),R=r.attr("id"),L.parent(".active").removeClass("active"),"dealer-locator"===R&&"dealer-locator"!==o.getCurrent().params.waypoint&&o.updateParamByName("waypoint","dealer-locator"),void 0!==R&&(i=C(R),i.closest("li").addClass("active"))}function T(t,i){var r;if(i||(i=o.getCurrent()),n.info(i),""!==i.cleanHash){try{r=e("#"+i.cleanHash)}catch(a){r=[]}return 0===r.length&&(r=e("#"+i.hashParams.waypoint)),0===r.length?void n.warn("there was no waypoint HTML target for this hash : "+i.rawHash):void("dealer-locator"!==o.getCurrent().params.waypoint&&b(r.attr("id")))}}function C(t){var i=L.filter('a[href="#'+t+'"]');return 0===i.length&&L.each(function(n,r){var o=e(r),s=o.attr("href");return new a(s).params.waypoint===t?(i=o,!1):void 0}),i}function k(){return _}function P(){return L}function I(){return $}function N(){e.waypoints("refresh")}function A(){return void 0!=u.contact?u.contact.address.zip:e.cookie("MBUSA_PREFERRED_ZIP")}function O(){var t=e("li.with-separator.last a"),i=this.getPreferredZip();i&&(t.each(function(n){e(this).attr("href",t.attr("href")+"/search?zip="+i)}),e("a.cta.em-cta").attr("href",e("a.cta.em-cta").attr("href")+"/search?zip="+i))}var D,x,_=i||null,L=r||null,$=p||null,R="",H=new t,j={INTERNAL_LINK_CLICKED:"INTERNAL_LINK_CLICKED"};return h(),{getSections:k,getLinks:P,getNavContent:I,refresh:N,dispatcher:H,EVENTS:j,scrollToAnchor:g,getPreferredZip:A,updateSearchInventoryLink:O}}}();return p.factory=function(t){var i={$waypointSections:null,$links:null,$navContainer:null,$heroContainer:null,setExtraTop:null};return t&&(i=e.extend(!0,i,t)),new p(i.$waypointSections,i.$links,i.$navContainer,i.$heroContainer,i.setExtraTop)},p}),define("text",["module"],function(e){"use strict";var t,i,n,r,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,d=c&&location.protocol&&location.protocol.replace(/\:/,""),u=c&&location.hostname,p=c&&(location.port||void 0),m={},f=e.config&&e.config()||{};return t={version:"2.0.12",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=a[t];try{e=new ActiveXObject(i)}catch(n){}if(e){a=[i];break}}return e},parseName:function(e){var t,i,n,r=!1,o=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),i=e.substring(o+1,e.length)):t=e,n=i||t,o=n.indexOf("!"),-1!==o&&(r="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:t=n),{moduleName:t,ext:i,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,n,r){var o,a,s,l=t.xdRegExp.exec(e);return l?(o=l[2],a=l[3],a=a.split(":"),s=a[1],a=a[0],!(o&&o!==i||a&&a.toLowerCase()!==n.toLowerCase()||(s||a)&&s!==r)):!0},finishLoad:function(e,i,n,r){n=i?t.strip(n):n,f.isBuild&&(m[e]=n),r(n)},load:function(e,i,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();f.isBuild=r&&r.isBuild;var o=t.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=i.toUrl(a),l=f.useXhr||t.useXhr;return 0===s.indexOf("empty:")?void n():void(!c||l(s,d,u,p)?t.get(s,function(i){t.finishLoad(e,o.strip,i,n)},function(e){n.error&&n.error(e)}):i([a],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,i,n,r){if(m.hasOwnProperty(i)){var o=t.jsEscape(m[i]);n.asModule(e+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,i,n,r,o){var a=t.parseName(i),s=a.ext?"."+a.ext:"",l=a.moduleName+s,c=n.toUrl(a.moduleName+s)+".js";t.load(l,n,function(i){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},t.write(e,l,n,o)},o)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),t.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8");0===r.indexOf("\ufeff")&&(r=r.substring(1)),t(r)}catch(o){n&&n(o)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,i,n,r){var o,a=t.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);f.onXhr&&f.onXhr(a,e),a.onreadystatechange=function(t){var r,o;4===a.readyState&&(r=a.status||0,r>399&&600>r?(o=new Error(e+" HTTP status: "+r),o.xhr=a,n&&n(o)):i(a.responseText),f.onXhrComplete&&f.onXhrComplete(a,e))},a.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var i,n,r="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{for(i=new java.lang.StringBuffer,n=s.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=s.readLine());)i.append(a),i.append(n);l=String(i.toString())}finally{s.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in n,t.get=function(e,t){var i,a,s,l={};o&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),i.init(s,1,0,!1),a=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),a.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(i.available(),l),a.close(),i.close(),t(l.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),t}),define("jsonPlugin",["text"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,t,i,n){n.isBuild&&(n.inlineJSON===!1||-1!==e.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===t.toUrl(e).indexOf("empty:")?i(null):window.MB_SYNDICATE?window.console&&(i(null),window.console.warn("This plugin has been modify to only perform an ajax call when we are not in a syndicate page.")):text.get(t.toUrl(e),function(t){var r;if(n.isBuild)buildMap[e]=t,i(t);else{try{r=jsonParse(t)}catch(o){i.error(o)}i(r)}},i.error,{accept:"application/json"})},normalize:function(e,t){return-1!==e.indexOf(CACHE_BUST_FLAG)&&(e=cacheBust(e)),t(e)},write:function(e,t,i){if(t in buildMap){var n=buildMap[t];i('define("'+e+"!"+t+'", function(){ return '+n+";});\n")}}}}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/mediaServer/config",["responsive/mb/utils","jsonPlugin!json/mediaServer/config"],t):(e.mb=e.mb||{},e.mb.mediaServer=e.mb.mediaServer||{},e.mb.mediaServer.config=t(e.mb.utils,e.mb.mediaServer.config))}(this,function(e,t){"use strict";var i={};return i=e.Object.deepmerge(i,t||{})});var inNode=!1;if(inNode="undefined"!=typeof module&&module.exports,inNode&&"function"!=typeof define)var define=require("amdefine")(module);define("responsive/mb/mediaServer/core",["require"],function(e){"use strict";function t(e,t,i){var n=t.toUpperCase()+"|"+i.toUpperCase(),r=e+"|"+n;return c[r]||c[n]}var i=e("jquery"),n=e("utilsCore"),r={log:function(){},error:console.error};if(!inNode){var o=e("responsive/mb/respState");r=e("responsive/mb/logger")}var a={$:i,domain:null,context:null,baseURI:null,clientID:null,brandID:null,quality:90},s={},l={},c={},d={},u={},p={},m="",f=["vehicle","pov","paint","fabric","sa","hfov","pitch","tilt","angle","width","height","w","h","x","y","bkgnd","quality"],h=/[:]+/gi,v="_",b="+++",g="ZZZ",y=["NOGLINTS","SHADOW","9:ZZZ"],w={error:!0,message:"An error as occurred"};return a.configure=function(e){e.mediaServerConfig||r.error("config.mediaServerConfig is required"),e.mediaServerConfig.presets||r.error("config.mediaServerConfig.presets is required"),e.mediaServerConfig.support||r.error("config.mediaServerConfig.support is required"),e.mediaServerConfig.settings||r.error("config.mediaServerConfig.settings is required"),s=e.mediaServerConfig.presets,l=e.mediaServerConfig.support,c=e.mediaServerConfig.settings,u=e.mediaServerConfig.exclusion,d=e.mediaServerModelOverrideMap,p=e.applicationSettings,this.domain=p.mediaServerDomain,this.context=p.mediaServerContext,this.baseURI=p.mediaServerUrl,this.clientID=p.mediaServerClient,this.brandID=p.mediaServerBrand},a.normalizeOptions=function(e){if(!e.pov||!e.className||!e.vehicle)return e;var t,i={year:e.year,className:e.className,model:e.vehicle,pov:null!==e.pov.match("centerpano")?"interior":"exterior",optionID:null};for(t in e)if(e.hasOwnProperty(t)){if(n.isArray(e[t])){if("sa"===t){for(var r=[],o=0;o<e[t].length;o++)i.optionID=e[t][o],a.isValidateOptionID(i)&&r.push(e[t][o]);e[t]=r}e[t]=n.uniqueArrayValues(e[t]),e[t]=e[t].join(",")}else i.optionID=e[t],"fabric"!==t||a.isValidateOptionID(i)||delete e[t];n.isString(e[t])&&(e[t]=e[t].replace(h,v),e[t]=e[t].replace(b,g),e[t]=e[t].toLowerCase(),e[t]=e[t].replace(/(,)+/g,"%2C"),e[t]=e[t].replace(/%2C/gi,"%2C"))}return e},a.isComponentEnabled=function(e){var t;if(e.model?t=e.model.toUpperCase():e.vehicle&&(t=e.vehicle.toUpperCase()),!e.className||!t)throw new Error("className & model/vehicle are required.");var i=e.className.toUpperCase(),r=i+"|"+t,o=e.year+"|"+r,a=l[r];return l.hasOwnProperty(r)?u&&u.hasOwnProperty(o)?!1:e.componentName&&""!==e.componentName&&l.hasOwnProperty(r)&&n.isArray(a)&&n.inArray(e.componentName,a)>=0?!1:!0:!1},a.isValidateOptionID=function(e){var i,o=e.year,a=e.className,s=e.model,l=[];if(i=t(o,a,s),i&&i.hasOwnProperty("optionIds")&&i.hasOwnProperty("mediaServerFilter")){var c=i.mediaServerFilter["interior"===e.pov?"interior":"exterior"];for(var d in i.optionIds)""===d&&(l=l.concat(i.optionIds[d].split(",")));return e&&e.optionID&&(n.inArray(e.optionID.toUpperCase(),l)||n.inArray(e.optionID.toUpperCase(),y)||n.inArray(e.optionID.toUpperCase(),c))?!0:!1}return r.error("Media Server settings should have a filter object for this vehicle ("+o+"|"+a+"|"+s+")"),!1},a.setStandardOptions=function(e,i,r,o){var a=t(o.year,i,r);if(a){o.paint||(o.paint=a.exteriorOptionId),o.fabric||(o.fabric=a.interiorOptionId),o.sa=n.isArray(o.sa)?o.sa:[],o.sa.length<=0&&(o.sa.push(a.wheelsOptionId),o.sa.push(a.trimOptionId));var s=n.isObject(a.optionIds)?a.optionIds:{};
for(var l in s)if(s.hasOwnProperty(l))for(var c=l.split(","),d=0;d<c.length;d++){var u=c[d].trim();if(""===u||o.paint===u||o.fabric===u||n.inArray(u,o.sa))for(var p=s[l].split(","),m=0;m<p.length;m++){var f=p[m].trim();""===f||n.inArray(f,o.sa)||o.sa.push(f)}}}},a.parseOptions=function(e,l,c){if(!(e&&n.isObject(e)&&e.year&&""!==e.year&&e.className&&""!==e.className&&e.bodystyle&&""!==e.bodystyle&&e.vehicle&&""!==e.vehicle))return w.message="The params year, className, bodystyle & vehicle must be set.",r.error(w.message),w;var d=null,u={dimensions:{}},p={dimensions:{}},m=e.className.toLowerCase(),f=e.vehicle.toLowerCase(),h=e.bodystyle.toLowerCase();n.isObject(e)?(u=a.$.extend({},e),e.preset&&n.isString(e.preset)&&(d=u.preset.toLowerCase(),delete u.preset)):n.isString(e)&&(d=e.toLowerCase());var v=e;if(d&&(v=i.extend({},e,{componentName:d})),!this.isComponentEnabled(v))return w.message="The params year, className, bodystyle & vehicle must be set.",r.error(w.message),w;var b=e.pov?e.pov.match(/[0-9]+$/gi):null,g=b?"angle_"+b[0]:"default",y=null;if(l=inNode||l&&n.isString(l)&&""!==l?l:o.getCurrentState().state,l=n.isString(l)&&""!==l?l.toLowerCase():null,d){var E=s[h],S=null;E&&(S=E[f]);var T=null;S&&(T=S[g]);var C=null;S&&(C=S["default"]);var k=null;E&&(k=E["default"]);var P=null;k&&(P=k[g]);var I=null;k&&(I=k["default"]);var N=s["default"],A=null;N&&(A=N["default"]);var O=null;A&&(O=A[g]);var D=null;if(A&&(D=A["default"]),!y&&T&&(y=T[d]),!y&&C&&(y=C[d]),!y&&P&&(y=P[d]),!y&&I&&(y=I[d]),!y&&O&&(y=O[d]),!y&&D&&(y=D[d]),!y)return w.message="No presets found.",w.debugInfo={bodystyle:h,model:f,presetName:d,angle:g,breakpoint:l},r.error(w.message,w.debugInfo),w}if(y&&("centerpano"===y.pov&&delete u.pov,p=a.$.extend({},y),y.sa)){p.sa=y.sa.split(",");for(var x=0;x<p.sa.length;x++)p.sa[x]=p.sa[x].trim()}var _=p.dimensions?p.dimensions[l]||p.dimensions["default"]||{}:{},L=u.dimensions?u.dimensions[l]||u.dimensions["default"]||{}:{};if(n.isEmpty(_)&&n.isEmpty(L)||!n.isObject(_)&&!n.isObject(L))return w.message="Dimensions must be set.",w.debugInfo={bodystyle:h,model:f,presetName:d,angle:g,options:p},r.error(w.message,w.debugInfo),w;var $=a.$.extend({},_,L);if(a.$.extend(u,$),!u.hasOwnProperty("width")||!u.hasOwnProperty("height"))return w.message="The width & height must be set.",w.debugInfo={bodystyle:h,model:f,presetName:d,angle:g,options:u},r.error(w.message,w.debugInfo),w;u.hasOwnProperty("x")&&parseInt(u.x)>0&&u.hasOwnProperty("y")&&parseInt(u.y)>0&&u.hasOwnProperty("w")&&parseInt(u.w)>0&&u.hasOwnProperty("h")&&parseInt(u.h)>0&&(u.x=Math.round(u.x/4500*1e4),u.y=Math.round(u.y/2531*1e4),u.w=Math.round(u.w/4500*1e4),u.h=Math.round(u.h/2531*1e4)),(c||!inNode&&o.getCurrentState().isRetina)&&(u.width=2*parseInt(u.width,10),u.height=2*parseInt(u.height,10)),a.setStandardOptions(h,m,f,u),u=n.Object.deepmerge(p,u),u=a.normalizeOptions(u);var R=t(u.year,m,f);return R&&(u.vehicle=R.mediaServerModelId||u.vehicle,u.vehicle=u.vehicle.toLowerCase(),u.state&&(u.state=R.isAMG?"rt":u.state)),u.paint&&""!==u.paint&&u.pov&&""!==u.pov?(u.year&&parseInt(u.year)>=2016&&(u.vehicle=u.year+"_"+u.vehicle),delete u.year,u):(w.message="The param paint & pov must be set.",w.debugInfo={bodystyle:h,model:f,presetName:d,angle:g,options:u},r.error(w.message,w.debugInfo),w)},a.addParamValueToURI=function(e,t){(n.isString(t)||n.isArray(t)||n.isNumber(t))&&(m+="&"+e+"="+t)},a.getURIStr=function(e){var t=a.$.extend({},e);m="",m+="http://",m+=this.domain,m+="/"+this.context,m+="/"+this.baseURI,m+="?client="+this.clientID,m+="&brand="+this.brandID,m+="&resp=err_status%2C"+(t.type?t.type:"jpeg"),delete t.type,m+="&quality="+(t.quality?t.quality:this.quality),delete t.quality;var i=t.state?t.state:null;delete t.state,delete t.bodystyle,delete t.className;var r,o,s=f.length;for(r=0;s>r;r++)o=f[r],i&&"pov"===o&&(t[o]+="%2C"+i),a.addParamValueToURI(o,t[o]),delete t[o];var l=n.Object.keys(t).sort(),c=l.length;for(r=0;c>r;r++)o=l[r],a.addParamValueToURI(o,t[o]);var d=m;return m="",d},a.getResponsiveDataStr=function(e){var t=this.getURIObj(e),i=null,n="";return t&&t.respObj?(i=t.respObj,n+="w:980",n+=",s:"+i.DESKTOP.s,n+=",sr:"+i.DESKTOP.sr,n+="|w:760",n+=",s:"+i.TABLET.s,n+=",sr:"+i.TABLET.sr,n+="|w:480",n+=",s:"+i.PHONE.s,n+=",sr:"+i.PHONE.sr):""},a.getURI=function(e,t,i){var r=this.getURIObj(e,t,i);return n.isString(r)?r:r.URI},a.getURIObj=function(e,t,i){var r=a.parseOptions(e,t,i),o={},s={},l={},c={},d={},u={},p={},m={};return r.error?r.message:(r.dimensions&&(r.dimensions["default"]&&(o={width:r.dimensions["default"].width,height:r.dimensions["default"].height},s={width:2*r.dimensions["default"].width,height:2*r.dimensions["default"].height}),r.dimensions.phone?(l={width:r.dimensions.phone.width,height:r.dimensions.phone.height},c={width:2*r.dimensions.phone.width,height:2*r.dimensions.phone.height}):(l=o,c=s),r.dimensions.tablet?(d={width:r.dimensions.tablet.width,height:r.dimensions.tablet.height},u={width:2*r.dimensions.tablet.width,height:2*r.dimensions.tablet.height}):(d=o,u=s),r.dimensions.desktop?(p={width:r.dimensions.desktop.width,height:r.dimensions.desktop.height},m={width:2*r.dimensions.desktop.width,height:2*r.dimensions.desktop.height}):(p=o,m=s)),{URI:a.getURIStr(r),respObj:{PHONE:{s:a.getURIStr(n.Object.deepmerge(r,l)),sr:a.getURIStr(n.Object.deepmerge(r,c))},TABLET:{s:a.getURIStr(n.Object.deepmerge(r,d)),sr:a.getURIStr(n.Object.deepmerge(r,u))},DESKTOP:{s:a.getURIStr(n.Object.deepmerge(r,p)),sr:a.getURIStr(n.Object.deepmerge(r,m))}}})},a.getResponsiveImageObject=function(e,t){var i=this.getURIObj(e,t);return{breakpoint6Col:{regular:{sourceUrl:i.respObj.PHONE.s},retina:{sourceUrl:i.respObj.PHONE.sr}},breakpoint9Col:{regular:{sourceUrl:i.respObj.TABLET.s},retina:{sourceUrl:i.respObj.TABLET.sr}},breakpoint12Col:{regular:{sourceUrl:i.respObj.DESKTOP.s},retina:{sourceUrl:i.respObj.DESKTOP.sr}}}},a}),define("responsive/mb/mediaServer/api",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/constants","responsive/mb/respState","responsive/mb/respImage","responsive/mb/mediaServer/config","responsive/mb/mediaServer/core","responsive/mb/pageProps","responsive/mb/applicationSettings"],function(e,t,i,n,r,o,a,s,l,c,d){"use strict";l.configure({mediaServerConfig:s,applicationSettings:d.getAll()});var u={isComponentEnabled:l.isComponentEnabled,getURI:l.getURI,getURIObj:l.getURIObj,getResponsiveImageObject:l.getResponsiveImageObject,isValidateOptionID:l.isValidateOptionID,preloadImage:function(t,n){var s=new e.Deferred,d=l.parseOptions(t),u=l.getURIStr(d),p=!0,m=null;n?m=n:(m=e("<img />"),p=!1);var f=e("<span />").addClass("media-server-img-wrapper").css({display:"block",position:"relative",margin:0,padding:0});p&&m.parent().width()>0&&d.height>0&&d.width>0&&m.is(":visible")&&(f.css("height",d.height*m.width()/d.width),m.wrap(f),m.parent().spin(r.SPIN.MEDIA_SERVER_GLOBAL));var h=function(){p&&m.is(":visible")&&(m.parent().css("height","auto"),m.parent().spin(!1)),a.reInit(m.parent(),!1,!0),m.parent().hasClass("media-server-img-wrapper")&&m.unwrap(),s.resolve(u)};return m.attr("src")===u?h():m.attr("src",u).attr("data-responsive",l.getResponsiveDataStr.apply(this,[t])).addClass("responsiveImage").load(h).error(function(){p&&(m.parent().css("height","auto"),m.parent().spin(!1));var t=e("<img />");t.attr({id:m.attr("id"),"class":m.attr("class"),src:c.contextPath+"/images/responsive/placeholders/heroes/byo/"+(o.gte(o.STATES.TABLET)?"D":"M")+"_Exterior_Error.jpg"}),m.replaceWith(t),m.parent().hasClass("media-server-img-wrapper")&&m.unwrap(),s.reject("Could not load the image from the Media Server: "+u),i.warn("Could not load the image from the Media Server.",u)}),s},loadImage:function(t,i){if(t){var n=new e.Deferred;return e.when(this.preloadImage(i,t)).done(function(e){n.resolve(t,e)}).fail(function(e){n.reject(e)}),n}}};return u}),function(e,t){"use strict";if("function"==typeof define&&define.amd)define("responsive/mb/bootstrap",["modernizr","jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/events","responsive/mb/components/Document","responsive/mb/pageProps","responsive/mb/applicationSettings","responsive/mb/components/CityStateAutoComplete","responsive/mb/metrics/core","responsive/mb/metrics/scrollTracker","responsive/mb/handlebarsHelpers","responsive/lib/jquery.cookie","responsive/pages/global_metrics","responsive/mb/modal","responsive/mb/components/RichData","responsive/mb/disclaimer","responsive/mb/components/SubNav","responsive/mb/mediaServer/api"],t);else{var i=t(e.Modernizr,e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.events,e.mb.components.Document);e.jQuery(i.init)}}(this,function(e,t,i,n,r,o,a){"use strict";var s={},l=function(){n.level<=n.INFO&&n.info("mb.initSubSystems()"),i.broadcaster.dispatchEvent(o.INITED,null,null,i)};return s.init=function(){n.level<=n.INFO&&n.info("mb.init()"),l();var s=t("[data-props]").eq(0),c=s.data("props")||{};c.richProps=[];var d=t("[data-rich-props]")||[],u=new a(s),p=t.cookie("embed")||"false";c.embed=p;for(var m=0;m<d.length;m++)c.richProps.push(t(d[m]).data("rich-props"));u.setProperties(c),i.documents.push(u),n.level<=n.INFO&&n.info("sending pageLoaded"),r.generateCookies(u.getProperty("embed")),i.broadcaster.dispatchEvent(o.PAGE_LOADED,null,u,i),window.MB_SYNDICATE&&e.addTest("highresdisplay",function(){return e.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")})},s}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/richData",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/events","responsive/lib/jquery.ba_throttle_debounce"],t):(e.mb=e.mb||{},e.mb.richData=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.events))}(this,function(e,t,i,n,r){"use strict";function o(t){t.state=g.NOT_LOADED,n.enterLoadingMode(e("#"+t.id)),t.loadNow&&a(t)}function a(n){var o,a=u+n.uri,s="",l=n.paramNames||[];if(n.state!==g.LOADED){i.level<=i.INFO&&i.info("scroll loading: "+n.id);for(var c=0,m=l.length;m>c;c++)s+="/",o=l[c],s+=o+"-"+d.getProperty(o);a+=s,a+=""!==n.customParams?"/"+n.customParams:"",i.level<=i.DEBUG&&i.debug("loading url: "+a),n.state=g.LOADING,e.ajax({url:a}).done(function(e){var i=e[n.defaultProperty]||e,o={containerId:n.id,data:i,partials:n.partials||[],template:n.template,metadata:e.metadata||{}};v=h.scrollTop(),n.state=g.LOADED,t.broadcaster.dispatchEvent(r.DATA_LOADED,null,o,f)}).fail(function(o){i.level<=i.ERROR&&p.error("richData error: "+o.status,o);var a=window.document.createElement("div"),s=e(a);s.addClass("data-error liquid-wrapper").attr("data-error",!0).html("<p>Sorry, there was an error loading this data</p>"),e("#"+n.id).append(s),t.broadcaster.dispatchEvent(r.DATA_ERROR,null,n.id,f)})}}function s(){var t=0,n="",r=0,o=0,s=0,l=m.length;for(s=0;l>s;s++)if(m[s].state===g.NOT_LOADED){if(r=v+1.5*b,o=v-1.5*b,n=m[s].id,t=e("#"+m[s].id).offset().top,i.level<=i.LOG,t>=v&&v+b>=t){i.level<=i.INFO&&i.info("loading because it's already in view: "+n),a(m[s]);break}if(r>=t&&t>=v+b){i.level<=i.INFO&&i.info("loading: "+n),a(m[s]);break}}for(s=l-1;s>=0;s--)if(m[s].state===g.NOT_LOADED&&(n=m[s].id,t=e("#"+m[s].id).offset().top,i.level<=i.LOG,t>=o&&v>=t)){a(m[s]);break}}function l(){v=h.scrollTop(),b=h.height(),s()}function c(){h.on("scroll",e.throttle(250,l));for(var t=0,i=m.length;i>t;t++)o(m[t]);s()}var d,u,p=i,m=[],f={},h=e(window),v=h.scrollTop(),b=h.height(),g={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED"};return f.getRichProps=function(){return m},f.init=function(e,t){d=t,u=d.getProperty("contextPath"),m=e,c()},f}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/headerTracker",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/metrics/core"],t):(e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.headerTracker=t(e.jQuery,e.mb,e.mb.logger,e.mb.metrics))}(this,function(e,t,i,n){"use strict";var r=function(){function e(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Find Dealer",label:"Find a Dealer:Dealers&Inventory"})}function t(e){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Find Dealer",label:"Find a Dealer:"+e})}function i(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Vehicles",label:null})}function r(e){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Vehicles:"+(e.replace(/\s+/g,"")||"NotDefined"),label:null})}function o(e,t){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Vehicles:Models",label:"Global Nav:Vehicles:Models:"+e+"_"+t})}function a(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Shopping",label:null})}function s(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Search",label:"Global Nav:Search:Open"})}function l(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Global Nav",action:"Global Nav:Search",label:"Global Nav:Search:Entered"})}return{dealersInventoryNav:e,findDealer:t,trackBodyStyle:r,trackModel:o,trackShoppingTab:a,trackVehiclesTab:i,trackSearchOpen:s,trackSearchEntered:l}}();return r}),define("responsive/mb/components/SubNavV2",["modernizr","jquery","fastclick","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/history","responsive/mb/utils/HistoryState","responsive/mb/respState","responsive/lib/jquery.easing","responsive/lib/jquery.isOnScreen"],function(e,t,i,n,r,o,a,s){"use strict";var l=!0,c=function(r,a){n.info("Instantiation of SubNavV2"),e.touch&&i.attach(window.document.body),this.$subNavEl=r,this.$subNavId=this.$subNavEl.attr("id")||"sub-nav-v2-"+Math.random(0,100),this.TYPES={WAYPOINT:"waypoint",TAB:"tab"},this.options=t.extend({linkSelector:"ul li a",$sections:t(""),type:this.TYPES.WAYPOINT,easing:"swing",scrollSpeed:300,tabFadeSpeed:200,justify:!1,keepFirstActive:!0},a),this.initialize(),o.refresh(),this.options.type===this.TYPES.TAB&&(o.getCurrent().params[this.options.type]||o.updateParamByName(this.options.type,this.options.$sections.first().attr("id")))};return c.prototype.initialize=function(){this.initEventListeners(),"footer-vehicles"!==this.$subNavId&&"footer-mobile-vehicles"!==this.$subNavId&&"header-mobile-vehicles"!==this.$subNavId&&this.initSubNavWaypoints(),this.initLinkEvents(),r.isAndroidAospBrowser()&&window.setInterval(function(){this.androidAospBrowserFix()}.bind(this),150),this.options.type===this.TYPES.WAYPOINT&&this.handleRespState()},c.prototype.initEventListeners=function(){o.dispatcher.addListener(o.EVENTS.HISTORY_CHANGE,this.onHistoryChange.bind(this)),s.dispatcher.addListener(s.EVENTS.EVENT_MARKER_CHANGE,this.responsiveStateChangeHandler.bind(this)),s.dispatcher.addListener(s.EVENTS.ORIENTATION_CHANGED,this.responsiveStateOrientationChangeHandler.bind(this)),e.touch?window.addEventListener("touchmove",t.throttle(250,function(){t.waypoints("refresh")})):t(window).on("scroll",t.throttle(250,function(){t.waypoints("refresh")}))},c.prototype.responsiveStateChangeHandler=function(){this.options.type===this.TYPES.WAYPOINT&&this.handleRespState()},c.prototype.responsiveStateOrientationChangeHandler=function(){this.options.type===this.TYPES.WAYPOINT&&this.toggleScrollWrapper()},c.prototype.onHistoryChange=function(e,i){if(this.options.type===this.TYPES.WAYPOINT)n.level<=n.WARN&&n.warn("empty block");else if(this.options.type===this.TYPES.TAB){var r=t("#"+i.params.tab);r.length>0&&(this.options.$sections.hide(),l===!0?(r.show(),l=!1):r.fadeIn(this.options.tabFadeSpeed)),this.$subNavEl.find(this.options.linkSelector).parent("li").removeClass("active"),this.$subNavEl.find(".nav-"+i.params.tab).addClass("active")}},c.prototype.scrollToWaypoint=function(e,i,n,r){if(n||!this.$subNavInjectedWrapper.isOnScreen()){var o,a=t("#"+e);t.waypoints("refresh"),a.length>0&&(o="footer-vehicles"===this.$subNavId||"footer-mobile-vehicles"===this.$subNavId||"header-mobile-vehicles"===this.$subNavId?i?a.offset().top:a.offset().top-t("div #sub-nav-v2").outerHeight(!0):i?a.offset().top:a.offset().top-this.$subNavEl.outerHeight(!0),t("html, body").stop(!0).animate({scrollTop:o+"px"},this.options.scrollSpeed,this.options.easing,function(){t.waypoints("refresh"),"function"==typeof r&&r()}))}},c.prototype.resolveScrollToContent=function(e,i){t.waypoints("refresh"),(e||!this.$subNavInjectedWrapper.isOnScreen())&&t("body").stop(!0).animate({scrollTop:t("body > .content").offset().top},this.options.scrollSpeed,this.options.easing,function(){t.waypoints("refresh"),"function"==typeof i&&i()})},c.prototype.initLinkEvents=function(){this.$subNavEl.find(this.options.linkSelector).each(function(e,i){r.getParamValueFromUrl(t(i).attr("href"),this.options.type)||t(i).attr("href","#"+this.options.type+"="+t(i).attr("href").replace("#",""))}.bind(this)),this.$subNavEl.off("click",this.options.linkSelector).on("click",this.options.linkSelector,this.onLinkSelected.bind(this))},c.prototype.onLinkSelected=function(e){var i=t(e.currentTarget),n=r.getParamValueFromUrl(i.attr("href"),this.options.type);t("#"+n),this.historyState=new a(i.attr("href")),o.updateParamByName(this.options.type,this.historyState.cleanHash.replace(this.options.type+"=","")),this.options.type===this.TYPES.WAYPOINT?(s.e(s.STATES.PHONE)&&this.closeSubNav(),i.closest("li").hasClass("active")||this.scrollToWaypoint(n,!1,!0)):this.options.type===this.TYPES.TAB&&(this.$subNavInjectedWrapper.isOnScreen()||this.scrollToWaypoint("sub-nav-injected-wrapper",!0))},c.prototype.initSubNavWaypoints=function(){this.$subNavEl.waypoint("sticky",{wrapper:t("<div/>",{"class":"sub-nav-injected-wrapper",id:"sub-nav-injected-wrapper"}),stuckClass:"sticky",offset:0}),this.$subNavInjectedWrapper=t(".sub-nav-injected-wrapper"),this.options.type===this.TYPES.WAYPOINT&&setTimeout(function(){this.initSectionWaypoints()}.bind(this),10)},c.prototype.initSectionWaypoints=function(){var e=this;this.options.$sections.waypoint({handler:function(i){e.sectionWaypointsHandler(i,t(this))},offset:this.$subNavEl.outerHeight(!0)+1}),t.waypoints("refresh")},c.prototype.sectionWaypointsHandler=function(e,t){if(this.activeSection=t,this.$subNavEl.find("ul li").removeClass("active"),"up"===e&&(this.activeSection=this.activeSection.waypoint("prev")),this.activeSection.length>0){var i=this.$subNavEl.find(".nav-"+this.activeSection.attr("id"));0===i.length?this.handleFirstItem():(i.addClass("active"),this.updateTitleBar())}},c.prototype.handleRespState=function(){s.e(s.STATES.PHONE)&&"footer-vehicles"!==this.$subNavId&&"footer-mobile-vehicles"!==this.$subNavId&&"header-mobile-vehicles"!==this.$subNavId?(this.handleFirstItem(),this.setupTitleBar()):(this.closeSubNav(),this.removeTitleBar(),this.removeMobileToggle()),this.options.justify&&this.handleJustify()},c.prototype.handleFirstItem=function(){this.options.keepFirstActive&&!t(this.options.linkSelector).parent("li").hasClass("active")&&t(this.options.linkSelector).parent("li").first().addClass("active")},c.prototype.setupTitleBar=function(){this.$subNavEl.after(t("<div/>",{"class":"title-bar liquid-wrapper override",text:this.$subNavEl.find("ul li:first").find("a").text()})),this.setupMobileToggle()},c.prototype.updateTitleBar=function(){this.$subNavEl.siblings(".title-bar").text(this.$subNavEl.find("ul li.active").find("a").text()),r.isAndroidAospBrowser()&&(this.$subNavEl.siblings(".title-bar").css("z-index",0),this.$subNavEl.siblings(".title-bar").css("z-index",3))},c.prototype.removeTitleBar=function(){this.$subNavEl.siblings(".title-bar").remove()},c.prototype.setupMobileToggle=function(){this.$subNavEl.next(".title-bar").before(t("<a/>",{"class":"sub-nav-toggle",href:"#",text:"Open/Close"})),this.mobileToggle()},c.prototype.mobileToggle=function(){var e=this.$subNavEl.siblings(".sub-nav-toggle");s.e(s.STATES.PHONE)&&e.off("click").on("click",function(e){e.preventDefault(),this.$subNavEl.hasClass("open")?this.closeSubNav():(this.$subNavEl.addClass("open"),this.toggleScrollWrapper(),t(this.$subNavEl).position().top>0&&this.scrollToWaypoint(this.options.$sections.first().attr("id"),!1,!0)),this.toggleClickShield()}.bind(this))},c.prototype.removeMobileToggle=function(){this.$subNavEl.siblings(".sub-nav-toggle").remove()},c.prototype.closeSubNav=function(){this.$subNavEl.removeClass("open").find(".sub-nav-scroll-wrapper").contents().unwrap(),this.removeClickShield()},c.prototype.toggleScrollWrapper=function(){!this.$subNavEl.find(".sub-nav-scroll-wrapper").length&&t(this.$subNavEl).find("ul").height()>=t(window).height()?t(this.$subNavEl).wrapInner('<div class="sub-nav-scroll-wrapper"/>'):t(this.$subNavEl).find(".sub-nav-scroll-wrapper").contents().unwrap()},c.prototype.toggleClickShield=function(){this.$subNavEl.hasClass("open")?(t(".sub-nav-scroll-wrapper").length&&t(".sub-nav-scroll-wrapper").scrollTop(0),t(".click-shield").length||(t("body").append(t("<div/>",{"class":"click-shield"})),t(".click-shield").off("click touchstart").on("click touchstart",function(e){e.preventDefault(),this.closeSubNav()}.bind(this)))):this.removeClickShield()},c.prototype.removeClickShield=function(){t(".click-shield").remove()},c.prototype.handleJustify=function(){s.e(s.STATES.PHONE)?this.$subNavEl.removeClass("justify"):setTimeout(function(){this.$subNavEl.addClass("justify")}.bind(this),10)},c.prototype.androidAospBrowserFix=function(){this.$subNavInjectedWrapper&&t(window.document).scrollTop()>this.$subNavInjectedWrapper.offset().top?this.$subNavEl.css({position:"fixed"}).siblings(".title-bar").css({position:"fixed"}):this.$subNavEl.css({position:"static"}).siblings(".title-bar").css({position:"absolute"})},c}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/mobileSideMenu",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/respState","responsive/mb/components/SubNavV2"],t):(e.mb=e.mb||{},e.mb.mobileSideMenu=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.respState,e.mb.components.SubNavV2))}(this,function(e,t,i,n,r,o){"use strict";var a=function(){function i(){var t=e(".mobile-slide-menu"),i=e("#body-wrapper");e(window.document).off("click",".body-wrapper-overlay"),e(".body-wrapper-overlay").remove(),i.animate({left:0},200,function(){e(".content").unwrap().unwrap()}),t.unwrap(),t.removeClass("on")}function a(){e(".mobile-slide-menu a").on("click",function(e){}).mouseleave().blur()}function s(){setTimeout(function(){l(),e(".mobile-header-subnav a").on("click",function(e){a(),i()})},100)}function l(){e(".mobile-shopping-tools a").on("click",function(t){t.preventDefault(),e(this).parent().toggleClass("active"),e(this).parent().next().toggleClass("active"),e(this).parent().next().toggleClass("on")})}function c(){e("li.others").addClass("active"),e("li.others").hide(),e("li.others.mobile-header-subnav").addClass("on").show(),e("li.others.mobile-header-subnav").first("ul").find("li").each(function(t){e(this).css({background:"rgb(240,240,240)","padding-left":"10px"})}),e("li.vehicles.mobile-header-subnav").first("ul").find("li").find("a").each(function(t){"All Vehicles"===e(this).html()&&e(this).parent().after("<li style='background:#ffffff'><a class='mobile-header-strike'></a></li>")})}function d(){e(".mobile-slide-menu li.mobile-header-subnav ul li").bind("touchstart",function(){u("highlight_menu_item"),e(this).addClass("highlight_menu_item")}).bind("touchend touchmove",function(){u("highlight_menu_item")})}function u(t){e(".mobile-slide-menu li.mobile-header-subnav ul li").each(function(i){e(this).removeClass(t)})}function p(t,i){f=i.getProperty("contextPath");var s=e("input[name='zip']"),l=s.attr("id")||"zip-input";s.attr("id","");var u=e("div.mobileHeader").html(),p=e('<div class="mobile-slide-menu clearer"></div>'),h=e("body");p.append(u),e("div.mobile-header-child",p).after("<div class='search'></div>"),e("div.search",p).append(e("ul.sub.sub-2.level1 .search form").clone(!0)),e("div.mobile-header-child",p).before(e("div.container-dealers-inventory").clone(!0)),s.attr("id",l),e(".dealer-locator-form input[name='zip']",p).attr("id",l+"-mobile"),e(".mobile-shopping-tools-subnav .mobile-nav-desktop-home",p).append('<li data-action="openInventoryModal"><a href="#">View Inventory</a></li>'),h.prepend(p),e("html").hasClass("lt-ie9")||(e(".mobile-slide-menu .discover-mb").prependTo(".mobile-slide-menu"),e(".mobile-slide-menu .mobile-home .search").appendTo(".mobile-slide-menu").wrap('<div class="block mb-search clearer" />')),e(".dealers-inventory").find(s.attr("id")).bind("keydown",n.numbersOnly),r.getCurrentState().state===r.STATES.PHONE&&a(),n.isAndroidAospBrowser()?e("ul.sub-2.level1").swipe({tap:function(e,t){m()}}):e("ul.sub-2.level1").click(function(){m()}),e(".mobile-slide-menu").on("click",".block > p.heading a",function(t){var i=e(this).parents(".block");e("body.touch").length&&i.hasClass("more-mb")?e(this).attr("href",f+"/contact_us/overview"):(t.preventDefault(),t.stopPropagation(),i.toggleClass("on"),e(this).parent().next("ul").toggle())}),d(),c(),e(".mobile-header a").on("click",function(t){t.preventDefault(),e(this).parent().toggleClass("active"),e(this).parent().next().toggleClass("active"),e(this).parent().next().toggleClass("on")}),window.location.pathname===f+"/vehicles"&&void 0!==o&&null!==o&&new o(e("#header-mobile-vehicles"),{linkSelector:"ul li:nth-child(-n+5) a",$sections:e(".waypoint-section"),type:"waypoint"})}function m(){var t;if(r.getCurrentState().state===r.STATES.PHONE){var n=e(".mobile-slide-menu"),o=n.width()-20;if(n.hasClass("on"))return;n.wrap("<div class='mobile-slide-menu-wrapper'></div>"),e("header, .content, footer").wrapAll("<div id='body-wrapper'></div>"),t=e("#body-wrapper"),n.addClass("on"),t.animate({left:o},200,function(){e("body").children().wrapAll("<div class='overflow-fix'></div>"),t.after("<div class='body-wrapper-overlay'></div>"),e(".body-wrapper-overlay").css("left",o+"px"),r.getCurrentState().state===r.STATES.PHONE&&s(),e(window.document).off("click",".body-wrapper-overlay").on("click",".body-wrapper-overlay",function(e){e.preventDefault(),r.getCurrentState().state===r.STATES.PHONE&&a(),i()})})}else i()}var f;return t.pageLoaded(p),{hideMenu:i}}();return a}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/ThumbnailSlider",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/respState","responsive/lib/jquery.ba_throttle_debounce"],t):(e.mb=e.mb||{},e.mb.components=e.mb.components||{},e.mb.components.ThumbnailSlider=t(e.jQuery,e.mb,e.mb.logger,e.mb.respState))}(this,function(e,t,i,n){"use strict";var r=function(t,i){function r(){C=T.length;var i=p();S.width(C*i.dimensions.itemOuterWidth+20),k.defaultIndex&&c(k.defaultIndex),k.refreshOnResize&&e(window).bind("resize",e.throttle(250,v)),t.on("scroll",e.throttle(250,function(){I||o()})),k.$leftArrow&&k.$leftArrow.on("click",function(e){e.preventDefault(),l()}),k.$rightArrow&&k.$rightArrow.on("click",function(e){e.preventDefault(),s()}),P=!0,v()}function o(){I=!1,a(),k.dynamicHeight&&f()}function a(){if(0!==g()){var e=k.rangeOfError,i=C*g()-t.outerWidth(!0),n=C*g()>t.outerWidth(!0),r=Math.abs(S.offset().left-t.offset().left);k.$leftArrow&&(n&&r-e>0?k.$leftArrow.show():k.$leftArrow.hide()),k.$rightArrow&&(n&&i>r+e?k.$rightArrow.show():k.$rightArrow.hide())}}function s(){var e=p(),t=e.currentFirstVisible+e.maxViewableCount;t>=C&&(t=C-e.maxViewableCount),u(t)}function l(){var e=p(),t=e.currentFirstVisible-e.maxViewableCount;0>t&&(t=0),u(t)}function c(e,t){e=parseInt(e,10),T.find("a").removeClass("active"),T.eq(e).find("a").addClass("active"),t||d(e)}function d(e){var t,i,n=p();if(n.currentFirstVisible===n.currentLastPosition&&0===n.currentLastPosition)return void u(e);for(t=e<n.currentFirstVisible?-n.maxViewableCount:n.maxViewableCount,i=m(n.currentFirstVisible);!(e>=i.currentFirstVisible&&e<=i.currentLastPosition);)i=m(i.currentFirstVisible+t,i);u(i.currentFirstVisible)}function u(e){var i=m(e,p()),n=e*i.dimensions.itemOuterWidth;i.withLeftArrow&&(n-=i.dimensions.arrowWidth),I=!0,t.animate({scrollLeft:n},200,"swing",function(){o()})}function p(){var e=t.offset().left,i=S.offset().left-e,r=t.outerWidth(!0),o=g(),a=t.scrollLeft(),s=T.eq(0).outerWidth(!0),l=null!==k.$leftArrow?k.$leftArrow.outerWidth(!0):0;k.overrideArrowWidth!==!1&&(l=k.overrideArrowWidth),l=n.lte(n.STATES.PHONE)?0:Number(l);var c=r;c-=l;var d=Math.ceil(a/o),u=Math.floor((a+c)/o)-1,p=u-d,m=Math.floor(c/o),f=u!==C-1,h=d>0;n.lte(n.STATES.PHONE)&&(f=h=!1);var v=t.is(":visible"),b={currentFirstVisible:d,currentLastPosition:u,currentViewableCount:p,maxViewableCount:m,withRightArrow:f,withLeftArrow:h,isVisible:v,dimensions:{usableSpace:c,containerOffsetLeft:e,itemsContainerOffsetLeft:i,containerWidth:r,scrollLeftPosition:a,itemOuterWidth:o,itemWidth:s,arrowWidth:l}};return b}function m(t,i){i=i||p();var r=e.extend({},i);return t=t<C-i.maxViewableCount?t:C-i.maxViewableCount,t=t>=0?t:0,r.currentFirstVisible=t,r.currentLastPosition=t+i.maxViewableCount-1,r.currentViewableCount=i.maxViewableCount,r.withRightArrow=r.currentLastPosition!==C-1,r.withLeftArrow=r.currentFirstVisible>0,n.lte(n.STATES.PHONE)?r.withRightArrow=r.withLeftArrow=!1:(r.withRightArrow=r.currentLastPosition!==C-1,r.withLeftArrow=r.currentFirstVisible>0),r}function f(){for(var e,i=0,n=0,r=k.$leftArrow?k.$leftArrow.outerWidth(!0):0,o=t.outerWidth(!0),a=0,s=0;C>s;s++)e=T.eq(s),n=e.outerWidth(!0),a=e.position().left,n+a-r>0&&o-r>a&&i<=e.outerHeight(!0)&&(i=e.outerHeight(!0));S.height(i)}function h(t){S="string"==typeof t.$itemsContainer?e(t.$itemsContainer):t.$itemsContainer,T="string"==typeof t.$items?e(t.$items):t.$items,C=T.length}function v(){if(P){var e=p();h(k),S.width(C*e.dimensions.itemOuterWidth+20),a(),k.dynamicHeight&&f()}}function b(e){u(e)}function g(){var e=0,t=0;return C&&(e=T.eq(0).outerWidth(!0),C>1&&(t=T.eq(1).outerWidth(!0))),Math.max(e,t)}function y(){P=!1,S.width("auto"),k.$leftArrow.hide(),k.$rightArrow.hide()}function w(){P=!0,v()}function E(){return P}var S,T,C,k={defaultIndex:0,$leftArrow:null,$rightArrow:null,overrideArrowWidth:!1,refreshOnResize:!0,$itemsContainer:e(">ul",t),$items:t.find(">ul>li"),rangeOfError:6,dynamicHeight:!1},P=!1,I=!1;return k=e.extend(!0,k,i),h(k),r(),{gotoIndex:c,setIndexAsFirstPosition:b,refresh:v,disable:y,enable:w,checkIsEnabled:E}};return r}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/header",["modernizr","jquery","fastclick","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/history","responsive/mb/utils/guid","responsive/mb/respImage","responsive/mb/respState","responsive/mb/metrics/core","responsive/mb/metrics/headerTracker","responsive/mb/mobileSideMenu","responsive/mb/components/CityStateAutoComplete","responsive/mb/components/ThumbnailSlider","responsive/lib/jquery.hoverIntent"],t):t(e.Modernizr,e.jQuery,e.FastClick,e.mb,e.mb.logger,e.mb.utils,e.mb.utils.history,e.mb.utils.guid,e.mb.respImage,e.mb.respState,e.mb.metrics,e.mb.metrics.headerTracker,e.mb.mobileSideMenu,e.mb.components.CityStateAutoComplete,e.mb.components.ThumbnailSlider)}(this,function(e,t,i,n,r,o,a,s,l,c,d,u,p,m,f){"use strict";var h=function(){function i(i,n){if(!o.isPageInIframe()){e.touch&&window.FastClick.attach(window.document.body),c.dispatcher.addListener(c.EVENTS.EVENT_MARKER_CHANGE,H),t(".lt-ie9 #main").click(function(e){t(this).css("display","none"),t(this).css("display","block")}),j(),C(),O(),w(),h(),K=n.getProperty("contextPath");var r=n.getProperty("bodystyle")||n.getProperty("bodyStyle");switch(r){case"CPE":Q=t("header #main a.bodystyle:eq(1)");
break;case"SUV":case"WGN":Q=t("header #main a.bodystyle:eq(2)");break;case"CAB":case"RDS":Q=t("header #main a.bodystyle:eq(3)");break;default:Q=t("header #main a.bodystyle:eq(0)")}t("header #main a.bodystyle").removeClass("visible"),Q.addClass("visible"),b();var s=a.getParamByName("onLoadAction");"shoppingToolsOpen"===s&&t("header li.shopping-tools").trigger("click"),window.setTimeout(function(){l.reInit(t("nav#main"),!0,!0,!0)},1e3)}}function h(){for(var e=t("nav#main").find(".bodystyles-tab"),i=0,n=e.length;n>i;i++){var r=t(e[i]);ue.push(new f(r.find(".slider"),{defaultIndex:0,$leftArrow:r.find(".arrow-prev"),$rightArrow:r.find(".arrow-next"),calculateAllItems:!0,$itemsContainer:r.find(".vehicles"),$items:r.find(".vehicles").find(".vehicle-item-container")}))}}function v(){ue.forEach(function(e){e.refresh()})}function b(){if(c.lt(c.STATES.TABLET))t("#main .vehicles-container").attr("style",""),t("#main .bodystyles, #main .shop-tools").attr("style",""),t("#main-nav-drawer").attr("style",""),t("nav#top").attr("style",""),(X===c.STATES.TABLET||X===c.STATES.DESKTOP)&&g();else if(X===c.STATES.PHONE||void 0===X){Z=null,g(),L(),t("#main .vehicles-container").css({top:60,opacity:0,visible:!1});var e=t("#main .bodystyles, #main .shop-tools");e.css({top:20,opacity:0,display:"none"}),t("#main-nav-drawer").css({overflow:"hidden",height:0})}X=c.getCurrentState().state}function g(){t("header .bodystyle").removeClass("visible"),t("#sub-models-flyer").removeClass("active"),t("header li.vehicles").removeClass("active"),t("header li.shopping-tools").removeClass("active"),t("header #main .owners-menu-dropdown").removeClass("visible"),de=ce.NONE,le=se.CLOSED}function y(e){var i=e.find(".sub-models").html(),n=e.offset().left,r=t("#sub-models-flyer");r.html(i),r.css("left",n),r.addClass("active"),e.addClass("active")}function w(){if(!window.MB_SYNDICATE){var e=new m("#top .container-dealers-inventory",{formName:"header-dealer-locator-form",inputName:"zip",formExists:!0,showSpinner:!1});e.broadcaster.addListener(e.EVENTS.ZIP_ERROR,function(e,t){S(t.errorMsg)}),e.broadcaster.addListener(e.EVENTS.ZIP_SELECTED,function(e,t){E(t.zip)});var i=new m(".mobile-home .container-dealers-inventory",{formName:"header-dealer-locator-form",inputName:"zip",formExists:!0,showSpinner:!1});i.broadcaster.addListener(i.EVENTS.ZIP_ERROR,function(e,t){S(t.errorMsg)}),i.broadcaster.addListener(i.EVENTS.ZIP_SELECTED,function(e,t){E(t.zip)}),t("header .dealers_Inventory, .mobile-slide-menu .dealer-locator-form .dealers_Inventory").on("click",u.dealersInventoryNav)}}function E(e){var i=t(".container-dealers-inventory");t(".input-zip",i).val(""),p.hideMenu(),i.removeClass("error"),u.findDealer(e),t.cookie("MBUSA_PREFERRED_ZIP",e,{path:"/",expires:new Date(2042,1,1)});var n=t(".dealer-locator-form").attr("action");window.location=n+"#!layout=/dealers/locator&businessType=DEALERS&radius=25&expandRadius=false&searchType=byZip&zip="+e}function S(e){var i=t(".container-dealers-inventory");t(".error-msg",i).val(e),i.addClass("error")}function T(e){var i=t("header"),n=t("li.vehicles",i),r=t(".bodystyles",i);"on"===e?(u.trackVehiclesTab(),n.addClass("active"),r.show(),R(),N("off")):(n.removeClass("active"),r.hide(),R())}function C(){var e=t("#main .level1");F(t("li.vehicles",e),I),F(t("li.shopping-tools",e),P),F(t("li.owners-menu",e),k),t("html").off("click").on("click",function(e){var i=!1;le===se.OPEN&&(t("nav#main").each(function(n,r){return t.contains(r,e.target)||r===e.target?(i=!0,!1):void 0}),i||A()),t("#main .owners-menu").hasClass("active")&&(t("nav#main .owners-menu-dropdown-wrapper").each(function(n,r){return t.contains(r,e.target)||r===e.target?(i=!0,!1):void 0}),t("#main-nav-drawer").each(function(n,r){return t.contains(r,e.target)||r===e.target?(i=!0,!1):void 0}),i||(t("#main .owners-menu-dropdown-wrapper").removeClass("visible"),t("#main .owners-menu").removeClass("active")))})}function k(e){G(e),U(se.CLOSED,!1,function(){N("off"),T("off")});var i=t("#main .owners-menu-dropdown-wrapper");i.toggleClass("visible"),t(e.currentTarget).toggleClass("active")}function P(e){G(e),t("#main .owners-menu-dropdown-wrapper").removeClass("visible"),t("#main .owners-menu").removeClass("active");var i,n=t(e.currentTarget);n.hasClass("active")?U(se.CLOSED,!1,function(){N("off")}):(i||(i=require(["responsive/mb/components/ViewInventoryModal"])),N("on"),le===se.OPEN?V(ce.SHOPPING,!1):(V(ce.SHOPPING,!0),U(se.OPEN,!1)))}function I(e){G(e),t("#main .owners-menu-dropdown-wrapper").removeClass("visible"),t("#main .owners-menu").removeClass("active");var i=t(e.currentTarget);i.hasClass("active")?U(se.CLOSED,!1,function(){T("off")}):(T("on"),le===se.OPEN?(x(Q,!0),V(ce.VEHICLES,!1)):(x(Q,!0),V(ce.VEHICLES,!0),U(se.OPEN,!1)))}function N(e){var i=t("header"),n=t("li.shopping-tools",i),r=t(".shop-tools",i);"on"===e?(u.trackShoppingTab(),n.addClass("active"),r.show(),T("off")):(n.removeClass("active"),r.hide())}function A(){le===se.OPEN&&U(se.CLOSED,!1,function(){T("off"),N("off")})}function O(){F(t("#main .bodystyles li.bodystyles-tab a.bodystyle"),function(e){try{e.preventDefault(),e.stopPropagation()}catch(i){oe.log("caught error in ie8 preventDefault()")}var n=t(e.currentTarget);n.hasClass("visible")||(x(n),u.trackBodyStyle(n.text()))});var e=t("#main .bodystyles").find("li.models");q(e,D,150,!0)}function D(e){try{e.preventDefault(),e.stopPropagation()}catch(i){oe.log("caught error in ie8 preventDefault()")}var n=t(e.currentTarget);n.hasClass("active")&&"mouseenter"!==e.type?R():_(n)}function x(e,i,n){if(R(),c.lt(c.STATES.TABLET)){t(".bodystyle").removeClass("visible"),e.addClass("visible");var r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=(515-r)/2;return void e.parent().find(".vehicles-container .slider").scrollLeft(o)}var a=e,s=t("#main .bodystyle.visible").not(a);a.addClass("visible").siblings(".vehicles-arrow").addClass("active"),s.siblings(".vehicles-arrow").removeClass("active");var l=s.parent().find(".vehicles-container"),d=a.parent().find(".vehicles-container"),u={top:40,opacity:1},p={top:60,opacity:0},m={duration:i?0:250,easing:"easeOutSine"},f=0,h={duration:0,easing:"easeOutSine",complete:function(){s.removeClass("visible")}};n&&(m.complete=n),d.stop(!0).css(p).delay(f).animate(u,m),l.stop(!0).animate(p,h),t("html").hasClass("lt-ie9")&&t(".lt-ie9 #main").trigger("click"),v()}function _(e){s.verifyId(e);var i=e.attr("id");if(Z!==i){var n=e.closest(".vehicle-item-container").data("class"),r=e.closest(".vehicle-item-container").data("bodystyle");u.trackModel(n,r);var o=t("ul.vehicles li.models"),a=e.closest(".models");a.find(".sub-models").html(),e.closest(".models").offset().left,y(a),o.removeClass("active"),a.addClass("active"),t(".mobile-models",t("#main")).addClass("active");var l=a.closest(".vehicles"),p=l.parent().parent(),m=p.children(".mobile-models");if(0===m.length){var f='<div class="mobile-models pie active"></div>';m=p.append(f).children(".mobile-models")}m.empty(),m.append(a.find(".sub-models").clone()),m.find("a").addClass("liquid-wrapper"),t("html").on("click",$),W(a.add("#sub-models-flyer"),L),c.lt(c.STATES.TABLET)&&s.verifyId(a),d.wireNode(t("#sub-models-flyer, .mobile-models ul.sub-models")),Z=i}}function L(){t("html").off("click",$),R()}function $(e){0===t(e.target).parents("#sub-models-flyer").length&&c.getCurrentState().state!==c.STATES.PHONE&&(R(),t("html").off("click",$))}function R(){Z=null,t(".bodystyles ul.vehicles li.models.active",t("#main")).removeClass("active"),t("#sub-models-flyer").removeClass("active"),t(".mobile-models").empty()}function H(e,i){c.gte(c.STATES.TABLET)&&0===t(".bodystyle.visible").length&&x(Q),b(),v()}function j(){J=t('.sub.sub-2.level1 > li.search input[type="text"]'),ee=t('.sub.sub-2.level1 > li.search input[type="submit"]'),te=t(".sub.sub-2");var e=t(".sub.sub-2.level1 li.search form");t("html").on("click","body",function(){B()}),J.on("click",function(e){e.stopPropagation()}),ee.on("click",function(e){e.stopPropagation()}),e.find('input[name="q"]').bind("keydown",function(e){t(this).data("metric-sent")!==!0&&t(this).val().length<1&&(u.trackSearchEntered(),t(this).data("metric-sent",!0))}),e.submit(function(e){e.stopPropagation();var i=!1;return c.getCurrentState().state!==c.STATES.PHONE?J.is(":visible")?i=""!==J.val():M():i=""!==t(".mobile-slide-menu.on input[name='q']").val(),i})}function M(){u.trackSearchOpen(),te.addClass("show-search"),J.focus()}function B(){te.removeClass("show-search")}function U(e,i,n){if(le=e,c.lt(c.STATES.TABLET))return void(n&&n());t("#main-nav-drawer").click();var r={},o={},a=t("#main-nav-drawer"),s=t("#main").find(".level1").find(".active"),l=s.hasClass("shopping-tools")?290:328;r.height=e===se.OPEN?l:0,o.speed=i?0:350,o.easing="easeOutExpo",n&&(o.complete=n),a.stop(!0).animate(r,o)}function V(e,i,n){if(de=e,c.lt(c.STATES.TABLET))return void(n&&n());var r=t("#main .bodystyles"),o=t("#main .shop-tools"),a=r,s=o;e===ce.SHOPPING&&(a=o,s=r);var l={opacity:1,top:0},d={opacity:0,top:20},u={duration:i?0:250,easeing:"easeOutSine",delay:i?0:100},p={duration:i?0:250,easing:"easeOutSine"},m=t("#main-nav-drawer"),f=t("#main").find(".level1").find(".active"),h={},v={duration:150,easing:"easeOutSine"};h.height=f.hasClass("shopping-tools")?290:328,n&&(u.complete=n),p.complete=function(){s.css({display:"none"})},a.css({display:"block"}),a.animate(l,u),s.animate(d,p),m.stop(!0).animate(h,v)}function F(e,t){e.on("click",function(e){t(e)})}function G(e){try{e.preventDefault(),e.stopPropagation()}catch(t){oe.log("caught error in ie8 preventDefault()")}}function q(e,t,i,n){e.on("click",function(e){t(e)}),i?e.hoverIntent({interval:i,over:function(e){c.gte(c.STATES.TABLET)&&t(e)},out:function(){}}):e.on("mouseenter",function(e){c.gt(c.STATES.TABLET)&&"undefined"==typeof window.orientation&&t(e)})}function W(e,t){re=t,Y(),ne&&(ne.off("mouseover",Y),ne.off("mouseleave",z)),e.on("mouseover",Y),e.on("mouseleave",z),ne=e}function Y(){oe.log("intendedDehoverEnter"+ie),ie&&(window.clearTimeout(ie),ie=null)}function z(){oe.log("intendedDehoverLeave"),ie=window.setTimeout(function(){c.gte(c.STATES.TABLET)&&re()},200)}var Q,Z,K,X,J,ee,te,ie,ne,re,oe=r,ae={},se={OPEN:"OPEN",CLOSED:"CLOSED"},le=se.CLOSED,ce={SHOPPING:"SHOPPING",VEHICLES:"VEHICLES",NONE:"NONE"},de=ce.NONE,ue=[];return n.pageLoaded(i),ae}();return h}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/utils/cookies",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/metrics/core","responsive/lib/jquery.cookie"],t):(e.mb=e.mb||{},e.mb.utils=e.mb.utils||{},e.mb.utils.cookies=t(e.jQuery,e.mb,e.mb.logger,e.mb.metrics))}(this,function(e,t,i,n){"use strict";function r(){u.info(e.cookie(p,"1",{path:"/",expires:h}))}function o(){return 1===Number(e.cookie(p))}function a(){u.info("removeEmailCookie"),e.removeCookie(p,{path:"/"})}function s(t){u.info(e.cookie(m,t,{path:"/",expires:h}))}function l(){return e.cookie(m)}function c(t,i,n){u.info(e.cookie(f,t+"-"+i+"-"+n,{path:"/",expires:h}))}function d(){return e.cookie(f)}var u=i,p="MBUSA_ESM_STATUS",m="recentClasses",f="lastModel",h=new Date(2020,1,1),v={setEmail:r,hasEmail:o,removeEmail:a,setRecentClasses:s,getRecentClasses:l,setRecentClassModel:c,getRecentClassModel:d};return v}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/metrics/esmTracker",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/metrics/core"],t):(e.mb=e.mb||{},e.mb.metrics=e.mb.metrics||{},e.mb.metrics.esmTracker=t(e.jQuery,e.mb,e.mb.logger,e.mb.metrics))}(this,function(e,t,i,n){"use strict";var r=function(){function t(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Start",label:"Email Subscribe:Start:Subscription Page"})}function i(t){var i="";if(t.length)for(var r=0;r<t.length;r++)r>0&&(i+="|"),i+=e.trim(t[r]);n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Complete",label:"Email Subscribe:Complete:"+i})}function r(t){var i="";if(t.length)for(var r=0;r<t.length;r++)r>0&&(i+="|"),i+=e.trim(t[r]);n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Edited",label:"Email Subscribe:Edited:"+i})}function o(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Email Changed",label:"Email Subscribe:Email Changed"})}function a(){n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Start",label:"Email Subscribe:Start:Footer"})}function s(t){var i="";if(t.length)for(var r=0;r<t.length;r++)r>0&&(i+="|"),i+=e.trim(t[r]);n.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Email Subscribe",action:"Email Subscribe:Complete",label:"Email Subscribe:Complete:"+i})}return{start:t,complete:i,edited:r,emailChanged:o,footerStart:a,footerComplete:s}}();return r}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/EsmWidget",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/utils/cookies","responsive/mb/metrics/esmTracker"],t):(e.mb=e.mb||{},e.mb.components=e.mb.components||{},e.mb.components.EsmWidget=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.utils.cookies,e.mb.metrics.esmTracker))}(this,function(e,t,i,n,r,o){"use strict";var a=function(t,i){function a(){e(".wrapper-esm-widget").length>0&&(s(),c(),l(),S())}function s(){I=t.find(".subscribe-wrap form"),A=I.attr("action"),A=A.substring(0,A.indexOf("/contact_us"))}function l(){N=t.find("#esm-manage-form form"),N.on("submit",b)}function c(){C=t.find(".esm-category-group"),I=t.find(".subscribe-wrap form"),k=t.find(".esm-category input[type='checkbox']"),P=t.find('button[type="submit"].esm-subscribe'),I.find("input.esm-email").on("focus",d),I.on("submit",g),t.find("input.esm-email").on("click focus",function(t){t.stopPropagation(),t.preventDefault(),h(),window.navigator.userAgent.match(/OS 6_\d/)&&n.isIPad()&&e("#inpage").length&&T(),k.is(":checked")?(P.removeAttr("disabled"),P.removeClass("disabled")):(P.attr("disabled","disabled"),P.addClass("disabled"))}),t.find("input.esm-email").on("blur",function(){e("#inpage").css("position","")}),e("body").on("click touchstart",function(t){var i=e(t.target);0===i.closest(".subscribe-wrap").length&&i.hasClass("subscribe-wrap")===!1&&(v(),p())}),k.on("click",function(){var e=k.is(":checked");e?f():m()})}function d(){O||(o.footerStart(),O=!0)}function u(e){o.footerComplete(e)}function p(){k.each(function(){this.checked=!0})}function m(){P.attr("disabled","disabled"),P.addClass("disabled")}function f(){P.removeAttr("disabled"),P.removeClass("disabled")}function h(){C.addClass("on")}function v(){C.removeClass("on")}function b(t){var i,r=N.find(".error").removeClass("show"),o=N.find('input[name="email"]'),a=e.trim(o.val());return""===a?i="Please enter your email address.":n.validateEmail(a)||(i="Please enter a valid email address."),i?(r.length||(N.append('<div class="error"></div>'),r=N.find(".error")),r.text(i),r.addClass("show"),t.preventDefault(),!1):void 0}function g(i){var o,a=I.find(".error").removeClass("show"),s=I.find('input[name="email"]'),l=(e(".subscribe-wrap"),e(".esm-signup-success")),c=A+"/contact_us/json/mercedes_email_subscription/subscribe",d=e.trim(s.val());if(""===d?o="Please enter your email address.":n.validateEmail(d)||(o="Please enter a valid email address."),o)a.length||(I.append('<div class="error"></div>'),a=I.find(".error")),a.text(o),a.addClass("show"),i.preventDefault();else{v();var p=[];if(t.find(".subscribe-wrap input:checked").each(function(t,i){var n=e(i).siblings(".esm-cat-details").find("label");p.push(n.text())}),u(p),-1!=navigator.appVersion.indexOf("MSIE")){if(window.XDomainRequest){var m=c+"?"+I.serialize(),f=new XDomainRequest;f&&(f.onload=function(){y(f.responseText)},f.onerror=function(){},f.open("GET",m),f.send())}}else e.ajax({type:"POST",url:c,data:I.serialize()}).done(function(e){r.setEmail(),l.html(e),l.show(),E(d),t.find(".subscribe-wrap").hide()});a.removeClass("show"),i.preventDefault()}return!1}function y(i){var n=e(".esm-signup-success"),o=e.parseJSON(i);r.setEmail(),n.html(o),n.show(),E(o.MANAGE_INTERESTS_COMMAND.email),t.find(".subscribe-wrap").hide()}function w(){t.find("#manage-link a").bind("click",function(e){e.preventDefault(),t.find("#manage-link").hide(),t.find("#esm-manage-form").show()})}function E(e){var i=A+"/contact_us/mercedes_email_subscription/manage/interests/email-"+encodeURI(e),n='<div id="edit-link">';n+="<p>You have subscribed to email updates<br>at "+e+"</p>",n+='<a href="'+i+'" class="blue-carat ">Edit Subscriptions</a>',n+="</div>",t.find(".subscribe-wrap").hide(),t.find("#esm-manage-form").hide(),t.find("#manage-link").replaceWith(n)}function S(){var e=r.hasEmail();e?(t.find(".subscribe-wrap").hide(),t.find("#manage-link").show(),t.find("#esm-manage-form").hide(),w()):(t.find(".subscribe-wrap").show(),t.find("#manage-link").hide(),t.find("#esm-manage-form").hide())}function T(){var t=e("#inpage");t.css("position","relative"),window.setTimeout(function(){t.css("position","fixed")},800)}var C,k,P,I,N,A,O=!1,D={contextPath:"REQUIRED!"};i&&e.extend(!0,D,i),a()};return a}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/footer",["jquery","responsive/mb/core","responsive/mb/events","responsive/mb/utils","responsive/mb/components/EsmWidget","responsive/mb/components/SubNavV2"],t):(e.mb=e.mb||{},e.mb.footer=t(e.jQuery,e.mb,e.mb.events,e.mb.utils,e.mb.components.EsmWidget,e.mb.components.SubNavV2))}(this,function(e,t,i,n,r,o){"use strict";function a(t,i){n.isPageInIframe()||(s=e("footer"),e(".mobile-footer-menu-title a").on("click",function(t){t.preventDefault(),e(this).parent().toggleClass("active"),e(this).parent().next().toggleClass("active"),e(this).parent().next().toggleClass("on")}),e("footer #viewDisclaimer").click(function(){e(this).toggleClass("active"),e("html, body").animate({scrollTop:e(this).offset().top+"px"},500),e("footer .bleed.grid-pattern.disclaimer.section").slideToggle(500,function(){e("footer .bleed.grid-pattern.disclaimer.section").toggleClass("active")})}),new r(s,{contextPath:i.getProperty("contextPath")}),window.location.pathname===i.getProperty("contextPath")+"/vehicles"&&void 0!==o&&null!==o&&(new o(e("#footer-vehicles"),{linkSelector:"ul li:nth-child(-n+5) a",$sections:e(".waypoint-section"),type:"waypoint"}),new o(e("#footer-mobile-vehicles"),{linkSelector:"ul li:nth-child(-n+5) a",$sections:e(".waypoint-section"),type:"waypoint"})))}var s,l={};return t.pageLoaded(a),l}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/mb/components/BackToTop",["jquery","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/metrics/core"],t):(e.mb=e.mb||{},e.mb.pages=e.mb.pages||{},e.mb.pages.mbrace=t(e.jQuery,e.mb,e.mb.logger,e.mb.utils,e.mb.metrics))}(this,function(e,t,i,n,r){"use strict";function o(){i.level<=i.INFO&&i.info("BackToTop init"),f=t?t.getCurrentPage().getProperties():pageProps,h=f.sections||{},v=m(),!h||h.length<=0||(C="vehicles"===h[0]&&"build"===h[1]&&!h[2]&&!pageProps.isShowroom||"dealers"===h[0]&&"locator"===h[1]||"future"===h[0]&&"model"!==h[1]?!0:!1,C||a())}function a(){b.append(g).insertBefore(y),s(),l()}function s(){E.on("scroll",e.throttle(100,function(){w=y.offset(),T=E.scrollTop()+S,l()})),g.on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},500,"easeOutCubic"),p()}),E.on("resize",e.debounce(100,function(){w=y.offset(),S=E.height(),T=E.scrollTop()+S,l()}))}function l(){S+E.scrollTop()>1.5*S?(c(),u()):d()}function c(){b.fadeIn()}function d(){b.fadeOut()}function u(){w&&T>=w.top?g.addClass("sticky"):g.removeClass("sticky")}function p(){r.trackInteraction({type:"GA",trackType:"_trackEvent",category:v,action:"Back to top button",label:"Back to top button"})}function m(){var e="";if(h&&!(h.length<=0)){for(var t=0;t<h.length;t++)e=e+=t!==h.length-1?h[t]+"_":h[t];return e}}var f,h,v,b=e("<div/>",{"class":"",id:"back-to-top-wrapper"}),g=e("<a/>",{"class":"back-to-top-cta",href:"#top",text:"Back To Top"}),y=e("footer"),w=y.offset(),E=e(window),S=E.height(),T=E.scrollTop()+S,C=!1;n.isPageInIframe()||t.pageLoaded(o)}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("responsive/pages/global",["jquery","modernizr","eventBroadcaster","responsive/mb/core","responsive/mb/logger","responsive/mb/utils","responsive/mb/richData","responsive/mb/components/video/YoutubeVideoPlayer","handlebarsHelpers","responsive/mb/respImage","responsive/mb/header","responsive/mb/footer","responsive/mb/components/BackToTop"],t):(e.pages=e.pages||{},e.pages.global=t(e.jQuery,e.Modernizr,e.EventBroadcaster,e.mb,e.mb.logger,e.mb.utils,e.mb.richData,e.mb.components.video.YoutubeVideoPlayer,e.mb.components.viewInventoryModal))}(this,function(e,t,i,n,r,o,a,s,l){"use strict";function c(e,t){h=t.getProperty("contextPath"),v=t.getProperty("sections");var i=t.getProperty("richProps");if(void 0!==i&&i.length&&a.init(i,t),o.generateCookies(t.getProperty("embed")),o.checkPlaceholder(),new Date,new Date(2013,10,4,0,0,0),new Date(2013,10,30,0,0,0),n.broadcaster.addListener(n.events.INIT_YOUTUBE_VIDEOS,function(e,t){d(t.containerId,t.options),n.broadcaster.dispatchEvent(n.events.YOUTUBE_VIDEOS_INITED,null,{ytPlayers:u()})}),navigator.userAgent.match(/IEMobile\/10\.0/)){var r=document.createElement("style");r.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(r)}n.broadcaster.dispatchEvent(n.events.GLOBAL_READY),n.broadcaster.dispatchEvent(n.events.INIT_YOUTUBE_VIDEOS,null,{containerId:window.document})}function d(t,i){t=t||window.document,e('div[data-video-init="true"]',t).each(function(t,n){var r=e(n),o=r.find(".yt-placeholder"),a=r.data("videoid"),l=r.data("videoname")||"",c=i&&i.uid?i.uid:null;if(r.attr("data-video-init","inited"),a){r.css({height:9*r.width()/16+40});var d=new s(o,{uid:c,width:r.width(),height:r.height(),videoId:a,videoName:l});d.dispatcher.addListener(d.EVENTS.PLAYER_READY,function(){r.css({height:"auto"})}),b.push(d),b[b.length-1].el=r}})}function u(){return b}function p(){var t=e("html"),i=e("body");t.hasClass("touch")?i.addClass("touch"):i.addClass("no-touch")}function m(){void 0!==window.FB&&window.FB.Event.subscribe("edge.create",function(){r.info("like button clicked"),n.metrics.trackInteraction({type:"GA",trackType:"_trackEvent",category:"Site Shares",action:"Facebook Like",label:""})})}function f(){p(),n.broadcaster.addListener(n.events.FB_INITED,m)}var h,v,b=[];return n.pageInited(f),n.pageLoaded(c),{}});